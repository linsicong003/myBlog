(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{277:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"ä¸ºä»€ä¹ˆå†™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆå†™","aria-hidden":"true"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆå†™")]),t._v(" "),a("p",[t._v("ä¸‰å¤§æ¡†æ¶éƒ½éµå¾ªå½“å‰æµè¡Œçš„ MVVM æ¨¡å‹ï¼Œä»æ•°æ®çš„è§’åº¦å‡ºå‘æ­å»ºåº”ç”¨ï¼Œå¸¦æ¥æ›´å¥½çš„ç»´æŠ¤ä½“éªŒã€‚è€Œå…¶ä¸­åŒå‘ç»‘å®šæ˜¯ç°å¦‚ä»Šå‰ç«¯ä¸–ç•Œç»•ä¸è¿‡å»çš„ä¸€ä¸ªå‘½é¢˜ï¼Œä¹Ÿæ˜¯å¦‚ä»Šå±å’¤é£äº‘çš„ä¸‰å¤§æ¡†æ¶çš„ä¸€ä¸ªåŸºç¡€å‘½é¢˜ã€‚æ€è·¯ä¸€è‡´å¹¶ä¸ä»£è¡¨å®ç°ä¸€è‡´ï¼Œä¸‰å¤§æ¡†æ¶åœ¨ç°ä»ŠçŠ¹å¦‚ä¸‰å¤§é—¨æ´¾çš„å­˜åœ¨ï¼Œä»£è¡¨ç€å·¥ç¨‹åŒ–è¿›ç¨‹çš„ä¸‰ç§æœ€ä¼˜å®è·µã€‚")]),t._v(" "),a("p",[t._v("ç¬”è€…ä¸ªäººä¼šæ¯”è¾ƒå–œæ¬¢ä½¿ç”¨ Vue è¿›è¡Œé¡¹ç›®çš„å¼€å‘ï¼Œè‹¦äºæ¡†æ¶å°±åƒä¸ªé»‘åŒ£å­ï¼Œå¼€ç®±å³ç”¨ä½†æ˜¯å¹¶ä¸ä»£è¡¨èƒ½ç”¨å¥½ï¼Œæ‘¸é€äº†å†…éƒ¨çš„åŸç†åŒæ—¶ä¹Ÿèƒ½åå“ºæˆ‘ä»¬çš„ç¼–ç¨‹è´¨é‡ï¼Œå†™å‡ºæ›´ç¬¦åˆæ ‡å‡†åŒ–æ€è·¯çš„å·¥ç¨‹é¡¹ç›®ã€‚")]),t._v(" "),a("p",[t._v("ä» Vue2 åˆ°å³å°†åˆ°æ¥çš„ Vue3 ç‰ˆæœ¬ï¼ŒVue å§‹ç»ˆé€‰ç”¨çš„æ˜¯ ECMA çš„æ ‡å‡† API è¿›è¡ŒåŒå‘ç»‘å®šçš„å®ç°ï¼Œä¹Ÿå³æˆ‘ä»¬ä»Šå¤©çš„ä¸»è§’ "),a("strong",[t._v("Object.defineProperty")]),t._v(" å’Œ "),a("strong",[t._v("Proxy")]),t._v(" äº†")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("ä¸‰å¤§æ¡†æ¶åŒå‘æ•°æ®ç»‘å®šæ¯”è¾ƒ")]),t._v(" "),a("p",[t._v("Vue ä¸­ä½¿ç”¨ "),a("strong",[t._v("Object.defineProperty")]),t._v(" æ–¹æ³•å’Œå³å°†é‡‡ç”¨ "),a("strong",[t._v("Proxy")]),t._v(" çš„æ–¹æ³•")]),t._v(" "),a("p",[t._v("Angular ä¸­ä½¿ç”¨è„å€¼æ£€æµ‹çš„æ–¹å¼")]),t._v(" "),a("p",[t._v("React ä¸­éœ€è¦æ‰‹åŠ¨é€šçŸ¥æ•°æ®å˜åŒ–")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/linsicong003/blog-img/master/20190829-1.jpg",alt:"Vue"}})]),t._v(" "),a("h2",{attrs:{id:"åŸºç¡€æ¦‚å¿µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºç¡€æ¦‚å¿µ","aria-hidden":"true"}},[t._v("#")]),t._v(" åŸºç¡€æ¦‚å¿µ")]),t._v(" "),a("p",[t._v("åœ¨å­¦ä¹ æ€ä¹ˆåº”ç”¨ä»–ä»¬ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ Vue ä¸­ä½¿ç”¨çš„è¿™ä¸¤ç§æ–¹æ³•æœ€åŸå§‹çš„ç”¨æ³•ç©¶ç«Ÿæ˜¯ä»€ä¹ˆã€‚å¦‚æœå¯¹è¿™ä¸¤ä¸ª API ç†Ÿæ‚‰çš„åŒå­¦å¯ä»¥ç›´æ¥è·³è¿‡æœ¬èŠ‚å†…å®¹å»åˆ°ä¸‹ä¸€èŠ‚ã€‚")]),t._v(" "),a("h3",{attrs:{id:"object-defineproperty"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#object-defineproperty","aria-hidden":"true"}},[t._v("#")]),t._v(" Object.defineProperty() ğŸ")]),t._v(" "),a("p",[t._v("è¿™ä¸ª API æ˜¯ ES5 æ–°åŠ å…¥çš„æ–¹æ³•ä¹‹ä¸€ï¼Œè¿™ä¸ª API è¢«èª‰ä¸ºä¸ºå‰ç«¯æ‰“å¼€äº†å¯¹è±¡é‡Œçš„é»‘ç›’å­ï¼Œèµ‹äºˆäº†å‰ç«¯æ“ä½œå¯¹è±¡å†…éƒ¨çš„èƒ½åŠ›ï¼Œç”±æ­¤èƒ½è¯ç”Ÿå‡ºæ›´å¤šçš„å¯èƒ½ã€‚")]),t._v(" "),a("p",[t._v("å®ƒå¯¹å¯¹è±¡å†…éƒ¨çš„å±æ€§æè¿°ç¬¦åˆ†æˆäº†ä¸¤ç§å½¢å¼ï¼š"),a("strong",[t._v("æ•°æ®æè¿°ç¬¦")]),t._v("å’Œ"),a("strong",[t._v("å­˜å–æè¿°ç¬¦")]),t._v("ã€‚æè¿°ç¬¦ä¸€å®šè¦æ˜¯è¿™ä¸¤ç§ä¹‹ä¸€çš„ä¸€ç§ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•åº”ç”¨è¿™ä¸ªæ–¹æ³•å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("è¯­æ³•å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/linsicong003/blog-img/master/20190829-3.png",alt:"Object.definePropertyè¯­æ³•"}})]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ•°æ®æè¿°ç¬¦")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¤æ–¹æ³•å¯ä»¥åˆ›å»ºä¸€ä¸ªå®Œå…¨çš„ç©ºå¯¹è±¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// èµ‹å€¼")]),t._v("\nObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// value å€¼")]),t._v("\n    writable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦å¯å†™")]),t._v("\n    enumerable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦å¯æšä¸¾ï¼Œå³èƒ½å¦è¢« for-in å’Œ Object.keys() å¾ªç¯è¯»å‡º")]),t._v("\n    configurable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æè¿°ç¬¦æ˜¯å¦èƒ½è¢«æ”¹å˜")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hello")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­˜å–æè¿°ç¬¦")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" sValue\n\nObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" sValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        sValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nobj2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¤æ—¶ sValue çš„å€¼æ€»ä¸ obj2.key ç›¸åŒ")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br")])]),a("p",[t._v("å…¶ä¸­ Vue2 ç‰ˆæœ¬çš„åŒå‘ç»‘å®šä½¿ç”¨çš„å°±æ˜¯ getter/setter çš„ç»„åˆå®ç°ï¼Œä»ä¸Šé¢çš„åŸºç¡€ç”¨æ³•ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŠŠä¸¤ä¸ªæ•°æ®ä¹‹é—´è”ç³»èµ·æ¥ï¼Œä½ çŸ¥é“åº”è¯¥æ€ä¹ˆå®ç°äº†å—ï¼Ÿåé¢å°†ä¼šè¯¦ç»†è®²è§£è¿™ä¸ªè¿‡ç¨‹ï¼Œä½†æ˜¯ä¹Ÿè¯·åŒå­¦ä»¬èƒ½è‡ªå·±æƒ³ç»„åˆä¸€ä¸‹æ€è·¯ï¼Œè¯´ä¸å®šä½ èƒ½æå‡ºæ¯”æˆ‘æ›´å¥½çš„å®ç°æ–¹å¼ï¼")]),t._v(" "),a("h3",{attrs:{id:"proxy-å¯¹è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#proxy-å¯¹è±¡","aria-hidden":"true"}},[t._v("#")]),t._v(" Proxy å¯¹è±¡ ğŸ")]),t._v(" "),a("p",[t._v("Proxy å¯¹è±¡æ˜¯ ES6 æ ‡å‡†ä¸­çš„ä¸€ä¸ªéšè—çš„æ˜æ˜Ÿï¼Œæˆ‘ä»¬åœ¨æ—¥å¸¸é€»è¾‘ä¸­åŸºæœ¬ä¸æ€ä¹ˆéœ€è¦ç”¨åˆ°è¿™ä¹ˆä¸€ä¸ªæ•°æ®æ‹¦æˆªçš„æ–¹å¼ï¼Œä½†æ˜¯å®ƒåœ¨ç¼–å†™åº“ä¸­å¯¹äºæ•°æ®çš„æ‹¦æˆªéå¸¸æœ‰ç”¨ã€‚Vue3 ææ¡ˆé€‰æ‹© Proxy ä½œä¸ºä¸»è¦çš„å®ç°æ–¹æ¡ˆï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³åœ¨ Vue2 ä¸­æ— æ³•ç›‘å¬å¯¹äºæ•°ç»„ä¸‹æ ‡çš„ç›´æ¥ä¿®æ”¹è¡Œä¸ºçš„è½¯è‚‹ï¼Œå…³äºè¿™æ–¹é¢çš„é—®é¢˜å°†åœ¨åé¢çš„å°èŠ‚ä¸­è®¨è®ºã€‚")]),t._v(" "),a("p",[t._v("å­¦ä¹ ä¸€ç§ API çš„åº”ç”¨ï¼Œé¦–å…ˆè¦åšçš„æ˜¯å…ˆçŸ¥é“è¿™ä¸ª API æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆæ ·çš„é—®é¢˜è€Œå­˜åœ¨çš„ã€‚"),a("strong",[t._v("Object.defineProperty()")]),t._v(" æ–¹æ³•åœ¨ç¤¾åŒºä¸­æ¯èª‰å‚åŠï¼Œå®ƒçš„ç¡®æ˜¯ä¸ºæˆ‘ä»¬è§£å†³äº†ç”Ÿäº§é—®é¢˜ï¼Œä½†åŒæ—¶å—åˆ¶äºå®ƒçš„å®ç°æœºåˆ¶ä¹Ÿä¸ºæˆ‘ä»¬å¸¦æ¥äº†å…¶ä»–çš„é—®é¢˜ã€‚"),a("strong",[t._v("Proxy")]),t._v(" ä½œä¸ºå…¶å…¨æ–°çš„è§£å†³æ–¹æ¡ˆï¼Œä½¿ç”¨èµ·æ¥åˆ°åº•æ•ˆæœå¦‚ä½•ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å…¶åŸºæœ¬çš„è¯­æ³•ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/linsicong003/blog-img/master/20190829-4.png",alt:"Proxyè¯­æ³•"}})]),t._v(" "),a("p",[t._v("ç›¸æ¯”äºä¸Šä¸€ä¸ªè€Œè¨€ï¼ŒProxy çš„åŸºç¡€ä½¿ç”¨ååˆ†ç®€å•ï¼Œä¸»è¦ç”±ä¸¤éƒ¨åˆ†çš„å†…å®¹ç»„æˆã€‚åˆ†åˆ«æ˜¯æŒ‡å‘åŒ…è£…çš„å¯¹è±¡ä»¥åŠå¯¹æ­¤çš„æ“ä½œå‡½æ•°ã€‚æˆ‘ä»¬ä¸‹é¢æ¥çœ‹ä¸ªç®€å•çš„ä¾‹å­äº†è§£ä¸€ä¸‹åŸºç¡€ç”¨æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ— æ“ä½œä»£ç†è½¬å‘")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\np"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hello world ")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get/set æ¨¡å¼ä¸‹å¯¹è½¬å‘ä»£ç†è¿›è¡Œå¤„ç†")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" handler "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tip")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿”å›å¯¹åº”é”®çš„å€¼ï¼Œç¼ºçœå€¼ä¸º hello")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…¶ä¸­ obj ä¸ºæ“ä½œå¯¹è±¡ï¼Œ prop ä¸ºæ“ä½œçš„å¯¹è±¡çš„é”®å€¼ï¼Œ value ä¸ºæ“ä½œçš„å¯¹è±¡è¯¥é”®å¯¹åº”çš„å€¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("prop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("firstToUpper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºé¦–å­—æ¯å¤§å†™")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("firstToUpper")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" first "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" exist "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("slice")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" first"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUpperCase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" exist\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ‘ä»¬è¿™é‡Œåˆ›å»ºä¸€ä¸ªæ‰“æ‹›å‘¼å¯¹è±¡ï¼Œç›®çš„æ˜¯å¿«é€Ÿå¯¹è¯¥åå­—æ‰“æ‹›å‘¼")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" helloTip "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nhelloTip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mike "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mike'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("helloTip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mike"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hello Mike")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br")])]),a("p",[t._v("é€šè¿‡ä¸Šé¢çš„ä¸€ä¸ªæ‰“æ‹›å‘¼çš„å°ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡º "),a("strong",[t._v("Proxy")]),t._v(" å¯¹è±¡çš„å®è´¨å°±æ˜¯å¯¹æŸä¸ªå¯¹è±¡è¿›è¡ŒåŠ«æŒï¼Œå¯¹è¯¥å¯¹è±¡è¿›è¡Œæ“ä½œæ—¶éœ€è¦å…ˆæ‰§è¡Œçš„ç³»åˆ—æ“ä½œã€‚")]),t._v(" "),a("p",[t._v("ç›¸è¾ƒäºä¹‹å‰ "),a("strong",[t._v("Object.defineProperty()")]),t._v(" è€Œè¨€ï¼Œå®ƒæ›´å¼ºå¤§ä¹Ÿæ›´ç®€å•ï¼ŒåŒæ—¶å¯ä»¥å®Œç¾è§£å†³ä¹‹å‰é—ç•™çš„é—®é¢˜ï¼Œæ˜¯ç†æƒ³çš„æ›¿ä»£å“ã€‚ä½†è‡³å°‘ç›®å‰è€Œè¨€ï¼Œå®ƒçš„å…¼å®¹æ€§å¹¶ä¸å¤ªå¥½ï¼Œæˆ–è€…å¯ä»¥ç”¨å¾ˆå·®æ¥å½¢å®¹ï¼ŒVue3 ä¸­ä½¿ç”¨å®ƒä¹Ÿè¦èŠ±è´¹å¤§é‡çš„ç²¾åŠ›æ¥è§£å†³å®ƒçš„å…¼å®¹æ€§é—®é¢˜ã€‚")]),t._v(" "),a("p",[t._v("å¥½çš„æ ‡å‡†å¿…å®šä¼šå¾—åˆ°æ¨å¹¿ï¼Œå°±å¦‚ IE é€€å¸‚ä¸€èˆ¬ï¼Œæœªæ¥çš„ä¸»æµå¿…å®šå±äºæ–°çš„æ ‡å‡†ã€‚")]),t._v(" "),a("h3",{attrs:{id:"reflect-å¯¹è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reflect-å¯¹è±¡","aria-hidden":"true"}},[t._v("#")]),t._v(" Reflect å¯¹è±¡ ğŸ")]),t._v(" "),a("p",[t._v("ES6 ä¸­æ–°åŠ å…¥äº† Reflect å¯¹è±¡ï¼Œå…¶ä¸Šé¢çš„è¡Œä¸ºåŒ Proxy å¯¹è±¡ä¸Šçš„æ–¹æ³•æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œæˆ‘ä»¬ä»Šå¤©æƒ³è¦ç”¨çš„å°±æ˜¯åœ¨ Proxy ä¸­ä½¿ç”¨ Reflect ä¿®æ”¹é»˜è®¤æ–¹æ³•çš„åŠŸèƒ½ã€‚")]),t._v(" "),a("p",[t._v("Reflect å¯¹è±¡ä½œä¸ºå…¨æ–°çš„ APIï¼Œ è®¾è®¡å®ƒçš„ç›®çš„ä¸»è¦æœ‰é‚£ä¹ˆå‡ ä¸ªæ–¹é¢ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å°† Object ä¸­ä¸€äº›æ˜æ˜¾å±äºè¯­è¨€å†…éƒ¨çš„æ–¹æ³•å‰¥ç¦» Objectï¼Œä¾‹å¦‚æˆ‘ä»¬ä¸Šé¢è¯´åˆ°çš„ Object.defineProperty()ã€‚")]),t._v(" "),a("li",[t._v("ä¿®æ”¹æŸäº› Object æ–¹æ³•ä¸­åŸæœ‰çš„è¿”å›ç»“æœï¼Œä½¿å…¶å˜å¾—æ›´ä¸ºåˆç†ã€‚")]),t._v(" "),a("li",[t._v("è®© Object æ“ä½œéƒ½å˜æˆå‡½æ•°å¼è¡Œä¸ºã€‚")]),t._v(" "),a("li",[t._v("Reflect æ–¹æ³•ä¸ Proxy æ–¹æ³•ä¸€ä¸€å¯¹åº”ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"å…¼å®¹æ€§é¡»çŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¼å®¹æ€§é¡»çŸ¥","aria-hidden":"true"}},[t._v("#")]),t._v(" å…¼å®¹æ€§é¡»çŸ¥ ğŸ")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[a("strong",[t._v("Object.defineProperty()")]),t._v(" å…¼å®¹æ‰€æœ‰æ”¯æŒ ES5 æ ‡å‡†çš„æµè§ˆå™¨")]),t._v(" "),a("p",[a("strong",[t._v("Proxy å¯¹è±¡åœ¨ ES6 æ ‡å‡†ä¸­è¢«åŠ å…¥")]),t._v("ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰æ”¯æŒ ES6 çš„æµè§ˆå™¨éƒ½èƒ½å®Œç¾å…¼å®¹")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/linsicong003/blog-img/master/20190829-2.jpg",alt:"ES6"}})]),t._v(" "),a("h2",{attrs:{id:"object-defineproperty-ä¸‹çš„åŒå‘ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#object-defineproperty-ä¸‹çš„åŒå‘ç»‘å®š","aria-hidden":"true"}},[t._v("#")]),t._v(" Object.defineProperty() ä¸‹çš„åŒå‘ç»‘å®š")]),t._v(" "),a("p",[t._v("ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº†è¿™ä¸ª API æ˜¯ä»€ä¹ˆä»¥åŠå…³äºå®ƒçš„ä¸€äº›åŸºç¡€ç”¨æ³•ï¼Œå®ƒçš„ç¡®èƒ½å¾ˆå¤§ç¨‹åº¦ä¸Šçš„è§£å†³ä¸€äº›é—®é¢˜ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹å…³äºè¿™ç§æ–¹æ¡ˆçš„ä¸€äº›å®è·µã€‚")]),t._v(" "),a("h3",{attrs:{id:"å˜é‡åŒå‘ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å˜é‡åŒå‘ç»‘å®š","aria-hidden":"true"}},[t._v("#")]),t._v(" å˜é‡åŒå‘ç»‘å®š ğŸ")]),t._v(" "),a("p",[t._v("è¿™ä¸€æ–¹æ¡ˆçš„å®ç°ç½‘ä¸Šæœ‰éå¸¸å¤šçš„ä¾‹å­ä¸å®ç°ï¼Œå³ä¾¿æ˜¯æ²¡æœ‰è‡ªå·±é€ è½®å­çš„éœ€æ±‚ï¼Œè§‚æ‘©ä¸€ä¸‹åˆ«äººæ˜¯æ€ä¹ˆç”¨è¿™ä¸ªå·¥å…·æ¥è§£å†³è¿™ä¸ªé—®é¢˜å¯¹äºæˆ‘ä»¬æ€è€ƒé—®é¢˜çš„æ–¹å¼ä¼šæœ‰å¾ˆå¤§çš„å¯å‘ã€‚")]),t._v(" "),a("p",[t._v("è¿™ç§æ–¹å¼å®ç°çš„åŸç†æ˜¯é€šè¿‡ä½¿ç”¨ getter/setter å­˜å–æè¿°ç¬¦å¯¹å±æ€§çš„èµ‹å€¼æ“ä½œè¿›è¡Œæ‹¦æˆªï¼Œå¹¶å°†è¯¥å±æ€§çš„å€¼åŒæ­¥è‡³åº”è¯¥åŒæ­¥çš„ä½ç½®ï¼Œä»¥å®ç°åŒå‘ç»‘å®šã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªå˜é‡ç»‘å®šçš„ä¾‹å­ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å˜é‡å½¢å¼åŒå‘ç»‘å®š")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// HTML")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'btn'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'show'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// JS")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'num'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'show'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nobj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'btn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("num"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br")])]),a("p",[t._v("ä¸Šé¢å®ç°äº†ä¸€ä¸ªç‚¹å‡»æŒ‰é’®èƒ½åŠ¨æ€å°†æ•°æ®æ›´æ–°åˆ°æˆ‘ä»¬è§†å›¾ä¸Šçš„æ–¹æ³•ï¼Œé€šè¿‡è¿™ä¸€æ–¹æ³•æˆ‘ä»¬æ¯æ¬¡ç‚¹å‡» id ä¸º btn çš„ div æ—¶ï¼Œ id ä¸º show çš„ div é‡Œå±•ç¤ºçš„å€¼å°±ä¼šå¯¹åº”åŠ ä¸€ã€‚é€šè¿‡è¿™ä¸€ç•ªå®è·µï¼Œæœ‰æ²¡æœ‰è§‰å¾—æ‰€è°“çš„åŒå‘ç»‘å®šæ¦‚å¿µä¸Šå°±æ²¡é‚£ä¹ˆè™šæ— ç¼¥ç¼ˆäº†ï¼")]),t._v(" "),a("p",[t._v("å˜é‡çš„åŒå‘ç»‘å®šåªæ˜¯åŒå‘ç»‘å®šä¸–ç•Œä¸­æ¯”è¾ƒåŸºç¡€çš„åº”ç”¨ï¼Œåœ¨ JavaScript ä¸­æˆ‘ä»¬å¸¸å¸¸éœ€è¦å¤„ç†å¤§é‡çš„åˆ—è¡¨æ•°ç»„æ•°æ®ï¼Œé‚£ä¹ˆå¯¹äºæ•°ç»„çš„å€¼çš„åŒå‘ç»‘å®šç›‘å¬æˆ‘ä»¬æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/linsicong003/blog-img/master/20190829-5.jpg",alt:"æ•°æ®ç»‘å®š"}})]),t._v(" "),a("h3",{attrs:{id:"æ•°ç»„åŒå‘ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°ç»„åŒå‘ç»‘å®š","aria-hidden":"true"}},[t._v("#")]),t._v(" æ•°ç»„åŒå‘ç»‘å®š ğŸ")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("å¯¹äºæ•°ç»„çš„å®Œæ•´ç›‘æ§åº”å®šä¹‰ä¸ºèƒ½ç›‘æµ‹åˆ°æ•°ç»„çš„å¢åŠ å’Œåˆ é™¤")])]),t._v(" "),a("p",[t._v("ä¹‹å‰æˆ‘ä»¬æœ‰æåˆ°è¿‡ï¼ŒObject.defineProperty() å¯¹äºæ•°ç»„çš„ç›‘æ§æœ‰ç€å¤©ç”Ÿçš„ä¸è¶³ï¼Œé‚£ä¹ˆä¸è¶³ç©¶ç«Ÿæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè®©æˆ‘ä»¬å…ˆæ¥æŒ‰ç…§ä¸Šé¢å˜é‡è®¾è®¡çš„æ€è·¯æ¥å®ç°ä¸€ä¸ªæ•°ç»„ç‰ˆæœ¬çš„åŒå‘ç»‘å®šï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æœ¬ä¾‹å®ç°æ–¹å¼æ²¡æœ‰å·¥ç¨‹å‚è€ƒä»·å€¼")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®é™…ä½¿ç”¨å°½é‡é¿å…å†™æ­»å˜é‡ ")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" tmp "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    arr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    enumerable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    configurable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'--- Array Change ---'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ntmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ²¡æœ‰æ‰“å°ç»“æœ")]),t._v("\ntmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ²¡æœ‰æ‰“å°ç»“æœ")]),t._v("\ntmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰“å°å‡ºæç¤ºè¯­")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br")])]),a("p",[t._v("æŒ‰ç…§æˆ‘ä»¬çš„è®¾æƒ³ï¼Œè‹¥æ•°ç»„çš„åŒå‘ç»‘å®šæˆåŠŸäº†çš„è¯ï¼Œåº”è¯¥åœ¨æ•°ç»„å˜åŒ–çš„æ—¶å€™å°±èƒ½è§¦å‘æˆ‘ä»¬é¢„è®¾çš„å¤„ç†äº‹ä»¶ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æ˜¯æ‰“å°å‡ºæç¤ºè¯­ã€‚ä½†æ˜¯æ ¹æ®å®é™…éªŒè¯æˆ‘ä»¬å‘ç°ï¼Œåªæœ‰ç¬¬ä¸‰è¡Œæ‰“å°å‡ºäº†æç¤ºè¯­ï¼Œä¹Ÿå³æ•´ä¸ªæ•°ç»„è¢«å®Œæ•´é‡è½½çš„æ—¶å€™æ‰ä¼šè§¦å‘æˆ‘ä»¬çš„ setter å‡½æ•°ã€‚")]),t._v(" "),a("p",[t._v("è‡³æ­¤æˆ‘ä»¬å¯ä»¥å‘ç° Object.defineProperty() è¿™ä¸ªæ–¹æ³•å¯¹äºæ•°ç»„çš„ç›‘å¬æ˜¯å­˜åœ¨ä¸€å®šçš„ç¼ºé™·çš„ï¼Œé‚£ä¹ˆåˆ°åº•æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´äº†è¿™ä¸ªç¼ºé™·å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("æ¯”çœ‹åˆ°ç¼ºé™·æ›´é‡è¦çš„æ˜¯ï¼Œé€šè¿‡ç°è±¡çœ‹åˆ°æœ¬è´¨ã€‚ä¸ºä»€ä¹ˆç¬¬ä¸€è¡Œç¬¬äºŒè¡Œçš„æ“ä½œæ²¡æœ‰åŠæ³•è¢«æˆåŠŸç›‘å¬å‘¢ï¼Ÿä¸ªäººçŒœæµ‹åº”è¯¥ä¸è¿™ä¸ª API æœ¬èº«çš„å®ç°æœ‰é‡å¤§å…³ç³»ï¼Œ"),a("strong",[t._v("setter å‡½æ•°å®ç°æ˜¯åŸºäºåœ°å€ç›‘å¬")]),t._v("çš„ï¼Œè€Œåªæœ‰è¦†å†™æ•°ç»„æ‰ä¼šå¼•èµ·æ•´ä¸ªæ•°ç»„çš„åœ°å€å˜åŒ–ã€‚")]),t._v(" "),a("p",[t._v("ç†Ÿæ‚‰ Vue çš„åŒå­¦è¿™æ—¶å€™å¯èƒ½ä¼šé—®äº†ï¼Œåœ¨ Vue ä¸­æœ‰ä¸ª watch æ–¹æ³•å¯ä»¥ç›‘å¬åˆ°æ•°ç»„å†…éƒ¨çš„ push æ–¹æ³•çš„å˜åŒ–ï¼Œé‚£ä¹ˆå¯¹æ­¤æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("Vue æ— æ³•ç›‘å¬æ•°ç»„ç›´æ¥æ“ä½œä¸‹æ ‡å’Œä¿®æ”¹æ•°ç»„é•¿åº¦çš„æƒ…å†µï¼Œä½†æ˜¯ç»™å‡ºäº† this.$set æ–¹æ³•è®©æˆ‘ä»¬æ‰‹åŠ¨è§¦å‘æ›´æ–°")])]),t._v(" "),a("p",[t._v("åœ¨å¾—çŸ¥äº†ç¼ºé™·çš„åŸç†åï¼Œæˆ‘ä»¬æœ‰æ²¡æœ‰åŠæ³•å¯¹è¿™ä¸ªæ–¹æ³•åšä¸€ç‚¹è¡¥å……ï¼Œåƒ Vue ä¸€æ ·æä¾›å¯¹æ•°ç»„å¯¹è±¡æ–¹æ³•ä¿®æ”¹çš„æ”¯æŒå‘¢ï¼Ÿç­”æ¡ˆæ˜¯è¦†å†™æ•°ç»„å¯¹è±¡çš„åŸç”Ÿæ–¹æ³•ï¼š")]),t._v(" "),a("h3",{attrs:{id:"æ‰©å±•æ•°ç»„å¯¹è±¡åŸç”Ÿæ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰©å±•æ•°ç»„å¯¹è±¡åŸç”Ÿæ–¹æ³•","aria-hidden":"true"}},[t._v("#")]),t._v(" æ‰©å±•æ•°ç»„å¯¹è±¡åŸç”Ÿæ–¹æ³• ğŸ")]),t._v(" "),a("p",[t._v("ä¸ºäº†ä¸å½±å“å…¨å±€ä¸Šçš„ Array å¯¹è±¡ï¼Œè‹¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°æ‰©å±•åŸå‹çš„æ–¹æ³•åº”ä½¿ç”¨æœ¬åœ°åŸå‹ï¼Œä¹Ÿå°±æ˜¯å®ä¾‹åŒ–ä¸€ä¸ªæ•°ç»„å¯¹è±¡æ¥ä¿®æ”¹ã€‚")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°å»ºä¸€ä¸ªå…¨å±€æ•°ç»„å¯¹è±¡çš„æ‹·è´")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arrayDemo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹æƒ³è¦ç›‘å¬çš„æ–¹æ³•è¿›è¡Œè¦†å†™ ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'push'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pop'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'shift'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unshift'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'splice'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sort'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reverse'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arrayDemo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        enumerable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        configurable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¿å­˜åŸå‡½æ•°çš„ä¼ å…¥å˜é‡")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" args "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ”¹å˜æŒ‡å‘")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€šçŸ¥ watcher ")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œçš„å®ç°ä¸å›ºå®šï¼Œæœ¬ä¾‹ä½¿ç”¨ Vue æºç å†™æ³•å ä½")]),t._v("\n            dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¿®æ”¹æœ¬ä¾‹æœ¬ä½œç”¨åŸŸæ•°ç»„åŸå‹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Array Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arrayDemo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])]),a("p",[t._v("è‡³æ­¤æˆ‘ä»¬å¯¹äº Object.defineProperty() è¿™ä¸ª API çš„åŠŸèƒ½æŒ–æ˜å°±å‘Šä¸€æ®µè½äº†ï¼Œè™½ç„¶è¿˜å¹¶ä¸èƒ½å®Œç¾è¾¾åˆ°æˆ‘ä»¬çš„æœŸæœ›ï¼Œä½†æ˜¯å·²ç»ä¸ Vue ä¸­å®ç°çš„ watch åŠŸèƒ½ç›¸å·®æ— å‡ ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/linsicong003/blog-img/master/20190829-6.jpg",alt:"æ•°æ®å±•ç¤º"}})]),t._v(" "),a("h2",{attrs:{id:"åŸºäº-proxy-çš„åŒå‘ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäº-proxy-çš„åŒå‘ç»‘å®š","aria-hidden":"true"}},[t._v("#")]),t._v(" åŸºäº Proxy çš„åŒå‘ç»‘å®š")]),t._v(" "),a("p",[t._v("åœ¨æˆ‘ä»¬å¼€å§‹ Proxy ç‰ˆæœ¬çš„å®ç°å‰å¦‚æœè¿˜æ²¡ææ‡‚ï¼Œè¯·å…ˆæ­ä¼ é€é—¨å»è¿›ä¸€æ­¥äº†è§£è¿™ä¸ª APIï¼š\n"),a("a",{attrs:{href:"http://es6.ruanyifeng.com/#docs/proxy",target:"_blank",rel:"noopener noreferrer"}},[t._v("é˜®ä¸€å³°åšå®¢é‡Œçš„ Proxy æ•™ç¨‹"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("åœ¨ Proxy åŒ…è£…ä¸‹è¢«ç›‘å¬çš„å±æ€§å®›å¦‚æˆ’å¤‡æ£®ä¸¥å°åŒºçš„ä½æˆ·ï¼Œæ¯ä¸€ä¸ªå‡ºå…¥äººå‘˜éƒ½è¦é€šè¿‡é—¨å«çš„ä»”ç»†å®¡æŸ¥ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"åŸºäº-proxy-å®ç°å˜é‡çš„åŒå‘ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäº-proxy-å®ç°å˜é‡çš„åŒå‘ç»‘å®š","aria-hidden":"true"}},[t._v("#")]),t._v(" åŸºäº Proxy å®ç°å˜é‡çš„åŒå‘ç»‘å®š ğŸ")]),t._v(" "),a("p",[t._v("ä¸æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„ Object.defineProperty() ä¸ä¸€æ ·çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºåœ¨ Proxy å…¶å®æœ‰ç‚¹åƒæ˜¯ä¸€ä¸ªå°è£…å¥½çš„ç±»ï¼Œæš´éœ²ç»™æˆ‘ä»¬çš„æ¥å£æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚è€Œæˆ‘ä»¬ä¹Ÿæ˜¯é€šè¿‡è°ƒç”¨æ„é€ å‡½æ•°çš„æ–¹å¼å»è°ƒç”¨å®ƒã€‚")]),t._v(" "),a("p",[t._v("åƒä¸Šé¢ä¸€æ ·ï¼Œæˆ‘ä»¬å…ˆæ¥å†™ä¸€ä¸ªæœ‰å…³å±æ€§çš„ç›‘å¬ç»ƒç»ƒæ‰‹å§ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ•°æ®")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    tmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›‘å¬å®ä¾‹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" newProxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Set Data'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        Reflect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§¦å‘ç›‘å¬")]),t._v("\n        dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("notify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("h3",{attrs:{id:"åŸºäº-proxy-å®ç°æ•°ç»„çš„åŒå‘ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäº-proxy-å®ç°æ•°ç»„çš„åŒå‘ç»‘å®š","aria-hidden":"true"}},[t._v("#")]),t._v(" åŸºäº Proxy å®ç°æ•°ç»„çš„åŒå‘ç»‘å®š ğŸ")]),t._v(" "),a("p",[t._v("åŒæ ·çš„æˆ‘ä»¬æ¥å†™ä¸€ä¸ªç›‘å¬æ•°ç»„ç‰ˆæœ¬çš„ Proxyï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåŠ¨æ€åˆ›å»º Proxy çš„åŒ…è£…å‡½æ•°æ¥æ‰©å±•æˆ‘ä»¬çš„çµæ´»æ€§")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("createWatch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setBind"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" logger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" handler "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" property"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("logger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" property"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Reflect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" property"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" property"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Set'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Reflect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" property"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" arr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ob "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createWatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Get ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("property"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Set'")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("p",[t._v("ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œä½¿ç”¨ Proxy å®ç°åŒå‘ç»‘å®šä»£ç ç»“æ„æ›´åŠ ç®€å•è€Œä¸”åŠŸèƒ½ä¹Ÿä¸é¢„æœŸçš„ä¸€è‡´ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/linsicong003/blog-img/master/20190829-7.jpg",alt:"æ•°æ®å¯è§†åŒ–"}})]),t._v(" "),a("h2",{attrs:{id:"ç»“è¯­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­","aria-hidden":"true"}},[t._v("#")]),t._v(" ç»“è¯­")]),t._v(" "),a("p",[t._v("åŒå‘ç»‘å®šæ˜¯æ•°æ®é©±åŠ¨å‹åº”ç”¨ä¸­ä¸€ä¸ªåº•å±‚çš„å…³é”®é—®é¢˜ï¼Œä½†æŠ•å…¥åº”ç”¨è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¤§çš„é—®é¢˜æ²¡æœ‰è§£å†³ï¼Œä¹Ÿå³æ˜¯æ•°æ®æ›´æ–°çš„è¿‡ç¨‹ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­åªæ˜¯ç®€å•çš„è¿›è¡Œ DOM èŠ‚ç‚¹çš„æ›¿æ¢ï¼Œè‹¥æƒ³å®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„åŒå‘ç»‘å®šè¿˜éœ€è¦å®ç°ä¸€ä¸ªç¼–è¯‘å™¨ç­›é€‰å‡ºè§†å›¾ä¸­éœ€è¦åŠ¨æ€æ›´æ–°çš„å€¼ã€‚")]),t._v(" "),a("p",[t._v("Vue3 é€‰ç”¨ Proxy æ”¹å†™å†…éƒ¨åŒå‘ç»‘å®šçš„åŸºç¡€å®ç°æ˜¯æœ‰æ ¹æ®çš„ï¼ŒæœŸå¾…æœªæ¥ Proxy çš„åº”ç”¨éåœ°å¼€èŠ±ã€‚")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("æœ‰å…³äºç¼–è¯‘å™¨çš„å†…å®¹å°†åœ¨å…¶ä»–æ–‡ç« å±•å¼€è®¨è®ºã€‚")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/linsicong003/blog-img/master/20190829-8.jpg",alt:"Vue3"}})]),t._v(" "),a("h2",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™","aria-hidden":"true"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),a("ul",[a("li",[t._v("https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty")]),t._v(" "),a("li",[t._v("https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy")]),t._v(" "),a("li",[t._v("https://www.cnblogs.com/tugenhua0707/p/10261170.html")]),t._v(" "),a("li",[t._v("https://segmentfault.com/a/1190000015483195?utm_source=tag-newest")]),t._v(" "),a("li",[t._v("https://www.cnblogs.com/mengfangui/p/10506063.html")])])])},[],!1,null,null,null);s.default=e.exports}}]);