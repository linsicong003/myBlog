(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{272:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€","aria-hidden":"true"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[a("code",[t._v("Babel")]),t._v(" æ˜¯ä¸€ä¸ª "),a("code",[t._v("JavaScript")]),t._v(" è¯­è¨€ç¼–è¾‘å™¨ï¼Œå¹³æ—¶æˆ‘ä»¬ä¸»è¦ç”¨äºå°†æ–°æ ‡å‡†çš„è¯­æ³•è½¬æ¢æˆä¸ºå‘åå…¼å®¹çš„ "),a("code",[t._v("JavaScript")]),t._v(" è¯­æ³•ï¼Œä»¥ä¾¿èƒ½åœ¨è¿è¡Œåœ¨æˆ‘ä»¬æƒ³è¦å…¼å®¹çš„ç¯å¢ƒä¸­ã€‚")])]),t._v(" "),a("p",[t._v("ä»¥ä¸Šæ˜¯ "),a("code",[t._v("Babel")]),t._v(" çš„å®˜æ–¹ä»‹ç»ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥å°†å…¶ç†è§£ä¸ºä¸€ä¸ªåŠ å·¥æœºå™¨ã€‚æˆ‘ä»¬ä¸å…³å¿ƒæœºå™¨å†…éƒ¨çš„è¿è¡Œè¿‡ç¨‹ï¼Œåªéœ€è¦å°†æˆ‘ä»¬çš„åŸæ–™å€’è¿›æœºå™¨ä¸­å¹¶å¼€å¯æŒ‰é’®ï¼Œä¾¿èƒ½ç”Ÿäº§å‡ºæˆ‘ä»¬æƒ³è¦çš„äº§å“æ¥ã€‚ ğŸ˜")]),t._v(" "),a("h2",{attrs:{id:"åŸç†åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸç†åˆ†æ","aria-hidden":"true"}},[t._v("#")]),t._v(" åŸç†åˆ†æ")]),t._v(" "),a("p",[t._v("åœ¨å­¦ä¹ æ€ä¹ˆç¼–å†™ "),a("code",[t._v("Babel")]),t._v(" çš„æ’ä»¶ä¹‹å‰ï¼Œäº†è§£å®ƒå¯¹æˆ‘ä»¬çš„åŸæ–™åšäº†ä»€ä¹ˆå·¥ä½œæœ‰åŠ©äºä¸ºæˆ‘ä»¬ç¼–å†™æ’ä»¶æä¾›æ€è·¯ã€‚ç–äºäº†è§£æ—¶å¯¹äºæˆ‘ä»¬æ¥è¯´å®›å¦‚é»‘é­”æ³•ï¼Œå¾…æˆ‘å°†å…¶æ‹†è§£å¼€ï¼Œä½ ä¼šå‘ç°ä¸€åˆ‡éƒ½æ˜¯æœ‰è¿¹å¯å¾ªã€‚")]),t._v(" "),a("h3",{attrs:{id:"babel-ç¼–è¯‘åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-ç¼–è¯‘åŸç†","aria-hidden":"true"}},[t._v("#")]),t._v(" Babel ç¼–è¯‘åŸç† ğŸ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20190923-1.jpg",alt:"é½¿è½®"}})]),t._v(" "),a("p",[t._v("æ¯ä¸ªç”·å­©å¯èƒ½éƒ½æœ‰é‚£ä¹ˆä¸€ä¸ªæ¢¦æƒ³ï¼Œå°†ä¸€ä¸ªä¸ªé›¶ä»¶é€šè¿‡è‡ªå·±çš„åŠªåŠ›ç»„è£…æˆä¸ºä¸€å°å¾ˆé…·çš„æœºå™¨ã€‚æ‹¼ä»€ä¹ˆæœºå™¨ä¸é‡è¦ï¼Œåªè¦é…·å°±å®Œäº‹äº†ã€‚")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆæˆ‘è·Ÿä½ è¯´ï¼Œ"),a("code",[t._v("Babel")]),t._v(" å†…éƒ¨åšçš„æ­£æ˜¯è¿™ä¸€ä»½æ‹¼è£…çš„å·¥ä½œï¼Œä¼šä¸ä¼šè§‰å¾—è¿™ä¸ªåº“åšçš„ä¸œè¥¿å…¶å®ä¸€ç‚¹éƒ½ä¸æ¯ç‡¥ï¼Œç”šè‡³è¿˜æŒºé…·çš„å‘¢ã€‚  ğŸ˜")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œ"),a("code",[t._v("Babel")]),t._v(" å¸®æˆ‘ä»¬åšçš„æ˜¯è¯­æ³•è§£æçš„å·¥ä½œï¼Œè¿™é¡¹å·¥ä½œçš„å‰ææ˜¯æˆ‘ä»¬è¦èƒ½åˆ†æå‡ºå®Œæ•´çš„è¯­æ³•ç»“æ„ï¼Œæ¥ç€æ‰èƒ½è¿›è¡Œå¯¹åº”çš„æ“ä½œï¼Œé‚£ä¹ˆå¤§å®¶å¯¹äºåˆ†æè¯­æ³•ç»“æ„æœ‰æ²¡æœ‰è‡ªå·±çš„åšæ³•å‘¢ï¼Ÿ")]),t._v(" "),a("p",[a("code",[t._v("AST")]),t._v(" æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­ä¸€ç§ç”¨äºè¯æ³•è§£æçš„æ–¹æ³•ï¼Œå…¶å…¨ç§°ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆAbstract Syntax Treeï¼‰ï¼Œä»å‘½åå¯ä»¥çœ‹å‡ºè¿™æ˜¯ä¸€ç§å°†æˆ‘ä»¬çš„è¯­æ³•æŠ½è±¡æˆä¸ºæ ‘çŠ¶ç»“æ„çš„æ–¹æ³•ã€‚")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[a("code",[t._v("AST")]),t._v(" ä¸èƒ½å®Œæ•´è¡¨ç°çœŸå®è¯­æ³•çš„æ¯ä¸ªç»†èŠ‚ï¼Œå®Œæ•´è¡¨ç°çš„ç»“æ„ç§°ä¸º "),a("code",[t._v("DST")])])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬çš„ "),a("code",[t._v("Babel")]),t._v(" ç”¨çš„å°±æ˜¯ "),a("code",[t._v("AST")]),t._v(" çš„å·¥å…·æ¥åˆ†æå’Œç¼–è¾‘æˆ‘ä»¬çš„ä»£ç ç»“æ„ã€‚è¿™æ—¶å€™å¯èƒ½æœ‰äººä¼šé—®äº†ï¼Œ"),a("code",[t._v("AST")]),t._v(" ç©¶ç«Ÿæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿å•Šï¼Ÿ")]),t._v(" "),a("p",[t._v("åˆ«æ€¥ï¼Œåé¢æˆ‘ä»¬å°±æ¥ä¼šä¸€ä¼šè¿™ä¸ªå®›å¦‚é»‘é­”æ³•ä¸€èˆ¬çš„æŠ€èƒ½å§ï¼ ğŸ‘Š")]),t._v(" "),a("h3",{attrs:{id:"ast-è¯­æ³•æ ‘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ast-è¯­æ³•æ ‘","aria-hidden":"true"}},[t._v("#")]),t._v(" AST è¯­æ³•æ ‘ ğŸ")]),t._v(" "),a("p",[t._v("åœ¨å¼€å§‹è®²è¿° "),a("code",[t._v("AST")]),t._v(" ä¹‹å‰ï¼Œæœ‰ä¸€ä¸ªå·¥å…·æˆ‘æƒ³è¦æ¨èç»™å¤§å®¶ï¼Œé€šè¿‡è¿™ä¹ˆä¸€ä¸ªå·¥å…·å°±å¯ä»¥è½»æ¾çš„å°† "),a("code",[t._v("AST")]),t._v(", çš„ç»“æ„å¯è§†åŒ–ï¼Œç„¶åå†æ®æ­¤è¿›è¡Œæ“ä½œã€‚")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://astexplorer.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("å·¥å…·ä¼ é€é—¨"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("AST çš„åŸåˆ™å°±æ˜¯å°†æˆ‘ä»¬çš„ä»£ç åˆ†æˆå°½å¯èƒ½å°çš„è¯æ³•å—ï¼Œç„¶åå°†å…¶ç”¨æ ‘çš„å½¢å¼ç»„ç»‡èµ·æ¥ã€‚")]),t._v(" "),a("p",[t._v("é€šè¿‡ "),a("code",[t._v("AST")]),t._v(" æˆ‘ä»¬å¯ä»¥æŠŠæˆ‘ä»¬çš„ä»»æ„ç¨‹åºéƒ½æŠ½è±¡æˆä¸€æ£µæ ‘çš„å½¢å¼æ¥è¡¨ç¤ºï¼Œå¹¶ä¸”é€šè¿‡è¿™é¢—æ ‘èƒ½ç”Ÿæˆä¸åŸä»£ç ä¸€æ ·çš„ä»£ç é›†åˆã€‚")]),t._v(" "),a("p",[t._v("æ¯ä¸€å±‚ç»“æ„åœ¨ "),a("code",[t._v("AST")]),t._v(" ä¸­è¢«ç§°ä¸º"),a("code",[t._v("èŠ‚ç‚¹ï¼ˆNodeï¼‰")]),t._v("ï¼Œä»–ä»¬æ‹¥æœ‰ç€ç›¸ä¼¼çš„ç»“æ„ï¼Œä¸‹é¢æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥éªŒè¯ä¸€ä¸‹ã€‚")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("æœ¬ä¾‹ä¸­æ‹†è§£å‡ºçš„ "),a("code",[t._v("AST")]),t._v(" ä»¥ "),a("code",[t._v("babylon7")]),t._v(" æ‹†è§£å‡ºçš„ "),a("code",[t._v("AST")]),t._v(" ä¸ºä¾‹")])]),t._v(" "),a("p",[t._v("è¿™æ˜¯ä¸ªåœ¨ JavaScript ä¸­ç®€å•çš„å˜é‡å®šä¹‰è¯­æ³•ï¼Œæˆ‘ä»¬å…ˆæ¥å¯¹å®ƒè¿›è¡Œç®€å•çš„è¯æ³•æ‹†è§£ã€‚")]),t._v(" "),a("p",[t._v("è¿™ä¸€å¥è¯æˆ‘ä»¬å¯ä»¥å°†å…¶æ‹†æˆ "),a("code",[t._v("var")]),t._v("ã€ "),a("code",[t._v("a")]),t._v("ã€ "),a("code",[t._v("1")]),t._v(" ä¸‰ä¸ªéƒ¨åˆ†ï¼Œç”»æˆå›¾ä¹‹åå°±å˜æˆäº†ä¸‹é¢è¿™æ ·çš„ç»“æ„ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20190923-2.png",alt:"ASTç»“æ„1"}})]),t._v(" "),a("p",[t._v("å¯ä»¥çœ‹å‡ºæ¥é€šè¿‡è¿™ä¹ˆä¸€ä¸ªæ ‘å½¢ç»“æ„æˆ‘ä»¬å°±æŠŠè¿™ä¹ˆæˆ‘ä»¬çš„ä»£ç ç»™æè¿°å‡ºæ¥äº†ï¼Œæˆ‘ä»¬ç”¨ä¸Šé¢æåˆ°çš„å·¥å…·æ¥éªŒè¯ä¸€ä¸‹æˆ‘ä»¬ç”Ÿæˆå‡ºæ¥çš„ AST ç©¶ç«Ÿæ˜¯ä¸æ˜¯è¿™æ ·çš„å§ ğŸ˜")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20190923-3png",alt:"ASTç»“æ„2"}})]),t._v(" "),a("p",[t._v("å¯ä»¥çœ‹å‡ºæ¥ï¼Œè§£æå‡ºæ¥çš„ "),a("code",[t._v("AST")]),t._v(" è·Ÿæˆ‘ä»¬æ‹†è§£çš„åŸºæœ¬ä¸€è‡´ï¼Œå¤šå‡ºæ¥çš„éƒ¨åˆ†æ˜¯å¯¹è¯¥è¯æ³•çš„å…¶ä»–æè¿°ï¼Œç”¨äºå®šä½è¯­å¥ä½ç½®ä»¥åŠå…¶ä»–æ ‡è¯†å·¥ä½œã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç¼–è¯‘åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¼–è¯‘åŸç†","aria-hidden":"true"}},[t._v("#")]),t._v(" ç¼–è¯‘åŸç† ğŸ")]),t._v(" "),a("p",[t._v("Babel å·¥ä½œçš„åŸºæœ¬æµç¨‹å¦‚ä¸‹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("â­ï¸ è§£æï¼ˆparseï¼‰")]),t._v(" "),a("li",[t._v("â­ï¸ è½¬æ¢ï¼ˆtransformï¼‰")]),t._v(" "),a("li",[t._v("â­ï¸ ç”Ÿæˆï¼ˆgenerateï¼‰")])]),t._v(" "),a("p",[t._v("è™½ç„¶è¿™ä¸€èŠ‚çš„åç§°å«åšç¼–è¯‘åŸç†ï¼Œä½†å¹¶éæ•™ç§‘ä¹¦ç‰ˆæœ¬çš„ç¼–è¯‘åŸç†ã€‚è¿™é‡Œå°†ç»™å¤§å®¶è®²è¿°é€šè¿‡ "),a("code",[t._v("AST")]),t._v(" ä¿®æ”¹ä»£ç çš„åŸºæœ¬æ€è·¯ä»¥åŠåŸºæœ¬æµç¨‹ã€‚")]),t._v(" "),a("p",[t._v("æ€è€ƒä¸‹é¢ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬é‡æ–°å®šä¹‰ä¸€ä¸ªå˜é‡ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("è¿™æ ·æˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªåå­—æ˜¯ "),a("code",[t._v("b")]),t._v(" çš„å˜é‡ï¼Œæ¯”è¾ƒç”Ÿæˆçš„ "),a("code",[t._v("AST")]),t._v(" æ ‘ä¼šå‘ç°å˜å¾—åªæ˜¯å®šä¹‰çš„ "),a("code",[t._v("value")]),t._v(" ä» "),a("code",[t._v("a")]),t._v(" å˜æˆäº† "),a("code",[t._v("b")]),t._v("ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20190923-4.png",alt:"ASTç»“æ„3"}})]),t._v(" "),a("p",[t._v("è¿™æ ·æˆ‘ä»¬å°±æœ‰äº†ç¼–è¯‘çš„åŸºç¡€æ€è·¯äº†ï¼Œå½“æˆ‘ä»¬æƒ³è¦æŠŠ "),a("code",[t._v("var a")]),t._v(" è½¬æ¢æˆ "),a("code",[t._v("var b")]),t._v(", é‚£æˆ‘ä»¬åªéœ€è¦åœ¨ "),a("code",[t._v("AST")]),t._v(" æ ‘ä¸Šæ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹è¿›è¡Œä¿®æ”¹å°±è¡Œäº†ã€‚")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("æˆ‘ä»¬è¿™é‡ŒæŠŠå…·ä½“ä¿®æ”¹çš„æ–¹æ³•å…ˆæ”¾ä¸€æ”¾ï¼Œåªéœ€è¦æœ‰è¿™ä¹ˆä¸€ç§ä¿®æ”¹ "),a("code",[t._v("AST")]),t._v(" çš„æ„è¯†å³å¯ã€‚")])]),t._v(" "),a("p",[t._v("åˆ°äº†è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»èƒ½å¤Ÿè¿›è¡Œç®€å•çš„è¯­æ³•è½¬æ¢äº†ã€‚åƒé‡Œä¹‹è¡Œå§‹äºè¶³ä¸‹ï¼Œå†å¤æ‚çš„è½¬æ¢ä¹Ÿæ˜¯ç”±è¿™ä¹ˆä¸€ä¸ªå°å°çš„éƒ¨åˆ†å»ç»„æˆçš„ã€‚")]),t._v(" "),a("p",[t._v("å·¥å…·å®Œå¤‡åæ€ä¹ˆä½¿ç”¨å°±å…«ä»™è¿‡æµ·å„æ˜¾ç¥é€šäº†ã€‚")]),t._v(" "),a("h2",{attrs:{id:"ä½¿ç”¨-babel-è¿›è¡Œè½¬æ¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨-babel-è¿›è¡Œè½¬æ¢","aria-hidden":"true"}},[t._v("#")]),t._v(" ä½¿ç”¨ Babel è¿›è¡Œè½¬æ¢")]),t._v(" "),a("p",[t._v("å‰é¢å·²ç»ç»™å¤§å®¶ä»‹ç»è¿‡äº† "),a("code",[t._v("AST")]),t._v(" çš„åŸºæœ¬ç»“æ„ã€‚å¯¹çŸ¥è¯†æœ‰äº†åŸºç¡€çš„æ¦‚å¿µä¹‹åæˆ‘ä»¬å¯ä»¥å¼€å§‹ç€æ‰‹ç¼–å†™æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæ’ä»¶äº†ã€‚")]),t._v(" "),a("h3",{attrs:{id:"babel-åŸºæœ¬ä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-åŸºæœ¬ä½¿ç”¨","aria-hidden":"true"}},[t._v("#")]),t._v(" Babel åŸºæœ¬ä½¿ç”¨ ğŸ")]),t._v(" "),a("p",[t._v("ç›¸ä¿¡ "),a("code",[t._v("Babel")]),t._v(" å¤§å®¶éƒ½ä½¿ç”¨è¿‡ï¼Œç°ç‰ˆæœ¬çš„ "),a("code",[t._v("Babel")]),t._v(" ç”Ÿæ€å·²ç»è¶³å¤Ÿçš„å¥½ï¼Œæ·±åº¦é›†æˆåœ¨äº†å„ä¸ªæˆ‘ä»¬å¸¸ç”¨çš„æ’ä»¶å¹³å°ä¸­ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¸¸ç”¨çš„ "),a("code",[t._v("vue-cli")]),t._v(" å’Œ "),a("code",[t._v("react-create-app")]),t._v(" ä¸­çš„ "),a("code",[t._v("webpack")]),t._v(" ä¸­å·²ç»ä¸ºæˆ‘ä»¬é›†æˆå¥½äº† "),a("code",[t._v("Babel")]),t._v(" çš„ç›¸å…³é…ç½®ï¼Œä¸ºæˆ‘ä»¬å¸¦æ¥äº†å¼€ç®±å³ç”¨çš„è‰¯å¥½ä½“éªŒã€‚")]),t._v(" "),a("p",[t._v("è™½ç„¶å…¶åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­çœŸçš„å¾ˆä¸èµ·çœ¼ï¼Œä½†ä»é¡¹ç›®è¿è¡Œçš„è§’åº¦è¯´å¯ä»¥è¯´æ˜¯æœ‰ç€ä¸¾è¶³è½»é‡çš„åœ°ä½ã€‚")]),t._v(" "),a("p",[t._v("ä¸äº†è§£ "),a("code",[t._v("Babel")]),t._v(" çš„åŒå­¦å¯ä»¥å…ˆè¡¥è¡¥è¯¾ "),a("a",{attrs:{href:"https://www.babeljs.cn/docs/",target:"_blank",rel:"noopener noreferrer"}},[t._v(">>>ä¼ é€é—¨"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("Babel")]),t._v(" å‘å¤–æš´éœ²å‡ºçš„é…ç½®æ¥å£æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®é¡¹ç›®ä¸­çš„ "),a("code",[t._v(".babelrc")]),t._v(" æ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œè®¾ç½®è£…è½½ "),a("code",[t._v("Babel")]),t._v(" é¢„è£…çš„ç¯å¢ƒä»¥åŠç¬¬ä¸‰æ–¹çš„æ’ä»¶ã€‚")]),t._v(" "),a("h3",{attrs:{id:"babel-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-api","aria-hidden":"true"}},[t._v("#")]),t._v(" Babel API ğŸ")]),t._v(" "),a("p",[t._v("ä¹‹å‰å·²ç»ä»‹ç»è¿‡ï¼Œ"),a("code",[t._v("Babel")]),t._v(" ç¼–è¯‘çš„å®è´¨æ˜¯å°†å…¶è½¬ä¸º "),a("code",[t._v("AST")]),t._v(" åå¯¹ "),a("code",[t._v("AST")]),t._v(" ä¸Šçš„èŠ‚ç‚¹è¿›è¡Œç›¸åº”çš„æ“ä½œåå†å°†æ“ä½œå®Œæˆçš„ "),a("code",[t._v("AST")]),t._v(" é‡æ–°ç¼–è¯‘æˆä»£ç ã€‚")]),t._v(" "),a("p",[a("code",[t._v("Babel")]),t._v(" å†…éƒ¨ä¸ºæˆ‘ä»¬æä¾›äº†å‡ ä¸ªå†…ç½®åº“ä»¥ç®€åŒ–æˆ‘ä»¬çš„æ“ä½œï¼š")]),t._v(" "),a("ul",[a("li",[t._v("babylonï¼š ç”Ÿæˆ "),a("code",[t._v("AST")])]),t._v(" "),a("li",[t._v("babel-registerï¼š æ³¨å†Œ "),a("code",[t._v("babel")]),t._v(" æ’ä»¶")]),t._v(" "),a("li",[t._v("babel-traverseï¼š éå† "),a("code",[t._v("AST")]),t._v(" æ ‘")]),t._v(" "),a("li",[t._v("babel-typesï¼š æ“ä½œ "),a("code",[t._v("AST")]),t._v(" çš„å·¥å…·åº“")])]),t._v(" "),a("p",[t._v("åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦é‡ç‚¹äº†è§£çš„æ˜¯ "),a("code",[t._v("babel-types")]),t._v(" è¿™ä¸ªåº“ï¼Œä¸ºæˆ‘ä»¬å°è£…äº†ä¸€å¥—æ“ä½œ "),a("code",[t._v("AST")]),t._v(" çš„é€»è¾‘ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†æ“ä½œ "),a("code",[t._v("AST")]),t._v(" çš„åŸºæœ¬èƒ½åŠ›ã€‚")]),t._v(" "),a("h3",{attrs:{id:"vistor-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vistor-api","aria-hidden":"true"}},[t._v("#")]),t._v(" Vistor API ğŸ")]),t._v(" "),a("p",[t._v("è¿™æ˜¯æˆ‘ä»¬ç¼–å†™æ’ä»¶å‰çš„æœ€åä¸€é¡¹ç†è®ºåŸºç¡€äº†ï¼Œ"),a("code",[t._v("Babel")]),t._v(" å®šä¹‰äº† "),a("code",[t._v("visitor")]),t._v(" å¯¹è±¡ç”¨äºæ’ä»¶è®¿é—®ç”Ÿæˆçš„ "),a("code",[t._v("AST")]),t._v(" ç»“æ„ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ "),a("code",[t._v("Babel")]),t._v(" æ’ä»¶çš„ä¸–ç•Œä¸­æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åŸºäºè¿™ä¸€ç§æ¨¡å¼ã€‚")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ•™ç¨‹ä¸­çš„ä¸€ä¸ªä¾‹å­ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    visitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// visitor contents")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("Babel éå†ä½¿ç”¨æ·±åº¦ä¼˜å…ˆç®—æ³•ï¼Œæ‰€ä»¥æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šè¢«è®¿é—®ä¸¤æ¬¡ã€‚ ğŸ˜")])]),t._v(" "),a("p",[t._v("æ’ä»¶è¿”å›çš„æ˜¯ä¸€ä¸ª "),a("code",[t._v("Babel")]),t._v(" çš„å®ä¾‹å¯¹è±¡ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ç›´æ¥ä½¿ç”¨å¯¹è±¡ç»“æ„å–å‡º "),a("code",[t._v("babel.types")]),t._v(" å¹¶å°†å…¶é‡å‘½åä¸º "),a("code",[t._v("t")]),t._v("ï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½åœ¨ "),a("code",[t._v("visitor")]),t._v(" ä¸­è¿›è¡Œã€‚")]),t._v(" "),a("p",[a("code",[t._v("visitor")]),t._v(" ä¸­æ“ä½œçš„å¯¹è±¡æ˜¯å›ºå®šçš„ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“ä½¿ç”¨åœºæ™¯çš„ä¾‹å­ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    visitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Identifier")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ASTNodeTypeHere")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("ä»è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œå®é™…ä¸Š "),a("code",[t._v("visitor")]),t._v(" æ˜¯ä»¥èŠ‚ç‚¹åä¸ºå•ä½å¯¹å¤„ç†è¿›è¡Œæ¥æ”¶çš„ï¼Œ"),a("code",[t._v("Babel")]),t._v(" ä¼šå¯¹æ¯ä¸€ä¸ªè¯¥ç§èŠ‚ç‚¹éƒ½æ‰§è¡Œå‡½æ•°é‡Œçš„æ“ä½œã€‚")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("å®é™…ç”Ÿäº§æ’ä»¶åº”è€ƒè™‘ä½œç”¨åŸŸé—®é¢˜ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"ç¬¬ä¸€ä¸ªæ’ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¸€ä¸ªæ’ä»¶","aria-hidden":"true"}},[t._v("#")]),t._v(" ç¬¬ä¸€ä¸ªæ’ä»¶")]),t._v(" "),a("p",[t._v("åŸºç¡€ç†è®ºå°±ç»ªä»¥åï¼Œæˆ‘ä»¬å¯ä»¥ç€æ‰‹ç¼–å†™æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæ’ä»¶äº†ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç¯å¢ƒå‡†å¤‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¯å¢ƒå‡†å¤‡","aria-hidden":"true"}},[t._v("#")]),t._v(" ç¯å¢ƒå‡†å¤‡ ğŸ")]),t._v(" "),a("p",[a("code",[t._v("Babel")]),t._v(" å®˜æ–¹æä¾›äº†ä¸€å¥—è„šæ‰‹æ¶ "),a("code",[t._v("babel-cli")]),t._v("ï¼Œé€šè¿‡è¿™ä¸€è„šæ‰‹æ¶å’Œä¸Šé¢æåˆ°çš„æ’ä»¶ï¼Œæˆ‘ä»¬å°±æ­å»ºèµ·äº†æˆ‘ä»¬ç¼–å†™æ’ä»¶çš„åŸºæœ¬ç¯å¢ƒäº†ã€‚")]),t._v(" "),a("p",[t._v("æ¥ç€åœ¨ "),a("code",[t._v("node_modules")]),t._v(" æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæˆ‘ä»¬æ’ä»¶çš„æ–‡ä»¶å¤¹ï¼Œå®‰è£…å‘½åè§„èŒƒåº”ä¸º "),a("code",[t._v("babel-plugin-xxx")]),t._v("ï¼Œæˆ‘ä»¬è¿™é‡Œåˆ›å»ºä¸€ä¸ª "),a("code",[t._v("babel-plugin-first")]),t._v(" çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨é‡Œé¢åˆ›å»º "),a("code",[t._v("index.js")]),t._v(" æ–‡ä»¶ã€‚")]),t._v(" "),a("p",[t._v("åˆ›å»ºå¥½äº†æ’ä»¶ä¹‹åæˆ‘ä»¬è¿˜éœ€è¦åœ¨ "),a("code",[t._v(".babelrc")]),t._v(" ä¸­è¿›è¡Œé…ç½®å¼•å…¥æ’ä»¶ï¼Œé…ç½®å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"first"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("è¿™ä¸ªæ—¶å€™æˆ‘ä»¬çš„æ’ä»¶å°±å·²ç»åº”ç”¨æˆåŠŸå•¦~")]),t._v(" "),a("h3",{attrs:{id:"ç¬¬ä¸€ä¸ªä¾‹å­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬¬ä¸€ä¸ªä¾‹å­","aria-hidden":"true"}},[t._v("#")]),t._v(" ç¬¬ä¸€ä¸ªä¾‹å­ ğŸ")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªæˆ‘ä»¬åˆšæ‰å¾ˆç†Ÿæ‚‰çš„ä¾‹å­ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("è¿™é‡Œæˆ‘ä»¬èµ·æ­¥çš„ç¬¬ä¸€ä¸ªä¾‹å­å°±æ˜¯å°†è¡¨è¾¾å¼ä¸­çš„ "),a("code",[t._v("const")]),t._v(" å˜æˆ "),a("code",[t._v("var")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("å¯¹çš„ï¼Œæˆ‘ä»¬å…ˆæŠŠä»–çš„ "),a("code",[t._v("AST")]),t._v(" ç»“æ„æ‰“å°å‡ºæ¥çœ‹çœ‹:")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20190923-6.png",alt:"ASTç»“æ„"}})]),t._v(" "),a("p",[t._v("ä» "),a("code",[t._v("AST")]),t._v(" çš„ç»“æ„å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬æƒ³è¦è¾¾åˆ°ç›®çš„åªéœ€è¦å°† "),a("code",[t._v("VariableDeclaration")]),t._v(" ä¸­çš„ "),a("code",[t._v("const")]),t._v(" æ¢æˆ "),a("code",[t._v("var")]),t._v(" å³å¯ï¼Œæ€è·¯éå¸¸ç®€å•ï¼Œæˆ‘ä»¬å°±ç›´æ¥æ¥çœ‹ä»£ç äº†ã€‚")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        visitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("VariableDeclaration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" d "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("declarations"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("kind "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'const'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("VariableDeclaration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'var'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("è¿™æ—¶ä½¿ç”¨ "),a("code",[t._v("Babel")]),t._v(" å¯¹æºä»£ç è¿›è¡Œç¼–è¯‘ä¼šå‘ç°è¾“å‡ºä»£ç é‡Œçš„ "),a("code",[t._v("const")]),t._v(" å·²ç»è¢«å…¨éƒ¨è½¬æˆ "),a("code",[t._v("var")]),t._v(" äº†ï¼Œä»¥æ­¤ç±»æ¨æˆ‘ä»¬èƒ½è¿›è¡Œæ›´åŠ é«˜çº§çš„å·¥ä½œã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç®­å¤´å‡½æ•°çš„æ›¿æ¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç®­å¤´å‡½æ•°çš„æ›¿æ¢","aria-hidden":"true"}},[t._v("#")]),t._v(" ç®­å¤´å‡½æ•°çš„æ›¿æ¢ ğŸ")]),t._v(" "),a("p",[t._v("ç®­å¤´å‡½æ•°çš„æ›¿æ¢ç›¸å¯¹æ¯”è¾ƒé«˜çº§ï¼Œè¿™é‡ŒæŠ½å–å®˜æ–¹åº“ "),a("code",[t._v("babel-plugin-transform-es2015-arrow-functions")]),t._v(" ä¸­çš„ä»£ç è¿›è¡Œå­¦ä¹ ã€‚")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__esModule "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("_ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" t "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    visitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("ArrowFunctionExpression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ArrowFunctionExpression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" state")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("opts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" node "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shadow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n          node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shadow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›´æ¢èŠ‚ç‚¹ç±»å‹")]),t._v("\n          node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FunctionExpression"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­˜å‚¨å½“å‰å—çº§ä½œç”¨åŸŸ this æŒ‡å‘")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»‘å®š this")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" boundThis "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("thisExpression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          boundThis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_forceShadow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”Ÿæˆå—çº§ä½œç”¨åŸŸ")]),t._v("\n          path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ensureBlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ’å…¥èŠ‚ç‚¹")]),t._v("\n          path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"body"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unshiftContainer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"body"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("expressionStatement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callExpression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addHelper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"newArrowCheck"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("thisExpression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" boundThis"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›¿æ¢èŠ‚ç‚¹")]),t._v("\n          path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replaceWith")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("callExpression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("memberExpression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("identifier")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bind"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("thisExpression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("arrowFunctionToShadowed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br")])]),a("p",[t._v("å…³é”®ä»£ç è§£æï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ’å…¥å…ƒç´ ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæ²¡æœ‰ä¼ å‚åˆ™é»˜è®¤æ’å…¥åœ¨ body ä¸‹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ensureBlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"body"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toBlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ’å…¥å½±å­å‡½æ•°èŠ‚ç‚¹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é»˜è®¤ç¼–è¯‘æˆå‡½æ•°èŠ‚ç‚¹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("arrowFunctionToShadowed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isArrowFunctionExpression")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ensureBlock")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" node "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("expression "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FunctionExpression"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shadow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shadow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("h2",{attrs:{id:"ç»“è¯­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­","aria-hidden":"true"}},[t._v("#")]),t._v(" ç»“è¯­")]),t._v(" "),a("p",[a("code",[t._v("Babel")]),t._v(" æ˜¯å‰ç«¯å·¥ç¨‹ç‹®ä»¬å¾€åº•å±‚è¿›å†›çš„ç¬¬ä¸€æ­¥ï¼Œè¿œç¦»æ¬ç –ä»å­¦ä¹  "),a("code",[t._v("AST")]),t._v(" å¼€å§‹ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™","aria-hidden":"true"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.babeljs.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Babelä¸­æ–‡ç½‘"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md#toc-writing-your-first-babel-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("Babelæ’ä»¶æŒ‡å—"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000016231512?utm_source=tag-newest",target:"_blank",rel:"noopener noreferrer"}},[t._v("AST"),a("OutboundLink")],1)])])])},[],!1,null,null,null);s.default=e.exports}}]);