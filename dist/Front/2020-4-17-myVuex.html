<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æ‘¸é±¼ä¹‹é™…ä¸€èµ·æ¥å®ç°ä¸€ä¸ª Vuex | Clancyå°å±‹</title>
    <meta name="description" content="æ…¢æ…¢æ¥   æ¯”è¾ƒå¿«">
    <link rel="icon" href="icon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta property="article:published_time" content="2020-04-17T00:00:00.000Z"><meta property="article:modified_time" content="2020-04-17T09:55:57.000Z"><meta property="og:site_name" content="Clancyå°å±‹"><meta property="og:title" content="æ‘¸é±¼ä¹‹é™…ä¸€èµ·æ¥å®ç°ä¸€ä¸ª Vuex"><meta property="og:type" content="website"><meta property="og:url" content="/Front/2020-4-17-myVuex.html"><meta name="twitter:title" content="æ‘¸é±¼ä¹‹é™…ä¸€èµ·æ¥å®ç°ä¸€ä¸ª Vuex"><meta name="twitter:url" content="/Front/2020-4-17-myVuex.html"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:label1" content="Written by"><meta name="twitter:label2" content="Filed under"><meta name="twitter:data2" content="Front, å‰ç«¯, VueåŸç†"><meta property="article:tag" content="Front"><meta property="article:tag" content="å‰ç«¯"><meta property="article:tag" content="VueåŸç†">
    <link rel="preload" href="/assets/css/0.styles.e7b93798.css" as="style"><link rel="preload" href="/assets/js/app.ebbf034c.js" as="script"><link rel="preload" href="/assets/js/3.a86c7ed3.js" as="script"><link rel="preload" href="/assets/js/2.76bfe4ca.js" as="script"><link rel="preload" href="/assets/js/1.e6878f8a.js" as="script"><link rel="preload" href="/assets/js/76.713ac99a.js" as="script"><link rel="prefetch" href="/assets/js/10.3e85fa6c.js"><link rel="prefetch" href="/assets/js/11.ad5e0bb1.js"><link rel="prefetch" href="/assets/js/12.b505bd56.js"><link rel="prefetch" href="/assets/js/13.16384a1b.js"><link rel="prefetch" href="/assets/js/14.1a0ba328.js"><link rel="prefetch" href="/assets/js/15.4b4d9239.js"><link rel="prefetch" href="/assets/js/16.3b16ee21.js"><link rel="prefetch" href="/assets/js/17.74d5e03f.js"><link rel="prefetch" href="/assets/js/18.77d6c522.js"><link rel="prefetch" href="/assets/js/19.f4541ff2.js"><link rel="prefetch" href="/assets/js/20.ef2b74b1.js"><link rel="prefetch" href="/assets/js/21.3ec6819a.js"><link rel="prefetch" href="/assets/js/22.c1b42fce.js"><link rel="prefetch" href="/assets/js/23.ec6db625.js"><link rel="prefetch" href="/assets/js/24.d6c42f97.js"><link rel="prefetch" href="/assets/js/25.5b23b8a7.js"><link rel="prefetch" href="/assets/js/26.1fabb0f8.js"><link rel="prefetch" href="/assets/js/27.d85bc1af.js"><link rel="prefetch" href="/assets/js/28.e8e8ba0b.js"><link rel="prefetch" href="/assets/js/29.7f38c340.js"><link rel="prefetch" href="/assets/js/30.681ee788.js"><link rel="prefetch" href="/assets/js/31.ff6f2f8d.js"><link rel="prefetch" href="/assets/js/32.b9775a9f.js"><link rel="prefetch" href="/assets/js/33.2c9ec258.js"><link rel="prefetch" href="/assets/js/34.85ccd09a.js"><link rel="prefetch" href="/assets/js/35.9fdb6a65.js"><link rel="prefetch" href="/assets/js/36.d28119fa.js"><link rel="prefetch" href="/assets/js/37.28e5f766.js"><link rel="prefetch" href="/assets/js/38.834da2bb.js"><link rel="prefetch" href="/assets/js/39.2423cf23.js"><link rel="prefetch" href="/assets/js/40.167a06e8.js"><link rel="prefetch" href="/assets/js/41.18177fce.js"><link rel="prefetch" href="/assets/js/42.5333206f.js"><link rel="prefetch" href="/assets/js/43.ac731ec2.js"><link rel="prefetch" href="/assets/js/44.49162ddc.js"><link rel="prefetch" href="/assets/js/45.d270fdea.js"><link rel="prefetch" href="/assets/js/46.485589ba.js"><link rel="prefetch" href="/assets/js/47.3eca643a.js"><link rel="prefetch" href="/assets/js/48.137e27b9.js"><link rel="prefetch" href="/assets/js/49.eb9e0216.js"><link rel="prefetch" href="/assets/js/5.27446bd9.js"><link rel="prefetch" href="/assets/js/50.993d02c1.js"><link rel="prefetch" href="/assets/js/51.4c5f3f3c.js"><link rel="prefetch" href="/assets/js/52.24a10c64.js"><link rel="prefetch" href="/assets/js/53.770aeee9.js"><link rel="prefetch" href="/assets/js/54.9455cebe.js"><link rel="prefetch" href="/assets/js/55.d300c846.js"><link rel="prefetch" href="/assets/js/56.60ecfe3a.js"><link rel="prefetch" href="/assets/js/57.c5817f43.js"><link rel="prefetch" href="/assets/js/58.f16fb28c.js"><link rel="prefetch" href="/assets/js/59.136b72d1.js"><link rel="prefetch" href="/assets/js/6.bfea56f2.js"><link rel="prefetch" href="/assets/js/60.3e72766b.js"><link rel="prefetch" href="/assets/js/61.be4517df.js"><link rel="prefetch" href="/assets/js/62.0eaf1bb9.js"><link rel="prefetch" href="/assets/js/63.ee5e5ad8.js"><link rel="prefetch" href="/assets/js/64.9f9b3d58.js"><link rel="prefetch" href="/assets/js/65.6749418f.js"><link rel="prefetch" href="/assets/js/66.d6271af3.js"><link rel="prefetch" href="/assets/js/67.be4295b2.js"><link rel="prefetch" href="/assets/js/68.06237718.js"><link rel="prefetch" href="/assets/js/69.72b9d540.js"><link rel="prefetch" href="/assets/js/7.8b56e7b5.js"><link rel="prefetch" href="/assets/js/70.f4350cb3.js"><link rel="prefetch" href="/assets/js/71.21f68007.js"><link rel="prefetch" href="/assets/js/72.e39b3a92.js"><link rel="prefetch" href="/assets/js/73.d1ee68d3.js"><link rel="prefetch" href="/assets/js/74.8c579d80.js"><link rel="prefetch" href="/assets/js/75.9d7437ba.js"><link rel="prefetch" href="/assets/js/77.75933259.js"><link rel="prefetch" href="/assets/js/78.351a9591.js"><link rel="prefetch" href="/assets/js/79.e6167a97.js"><link rel="prefetch" href="/assets/js/8.88029ea1.js"><link rel="prefetch" href="/assets/js/80.5da6ce51.js"><link rel="prefetch" href="/assets/js/81.3925e712.js"><link rel="prefetch" href="/assets/js/82.8eb2404d.js"><link rel="prefetch" href="/assets/js/83.c7716849.js"><link rel="prefetch" href="/assets/js/9.710d07f6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e7b93798.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="bg-container"><div id="particles-oli-wrapper" data-v-c339c0f6></div></div> <div class="main-container common"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/logo.jpg" alt="Clancyå°å±‹" class="logo"> <span class="site-name">Clancyå°å±‹</span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-gitlab"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/category/ET/" class="nav-link"><i class="iconfont reco-eye"></i>
  æ•™è‚²æŠ€æœ¯
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      å‰ç«¯
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/Front/" class="nav-link"><i class="iconfont undefined"></i>
  å‰ç«¯åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/category/TS/" class="nav-link"><i class="iconfont undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/category/Comment/" class="nav-link"><i class="iconfont undefined"></i>
  æ‚è°ˆ
</a></li><li class="dropdown-item"><!----> <a href="/DailyTest/Navigator.html" class="nav-link"><i class="iconfont undefined"></i>
  ç»ƒé¢˜ç¬”è®°
</a></li></ul></div></div><div class="nav-item"><a href="/timeLine.html" class="nav-link"><i class="iconfont reco-three"></i>
  æ—¶å…‰æœº
</a></div><div class="nav-item"><a href="/AboutMe.html" class="nav-link"><i class="iconfont reco-other"></i>
  å…³äºæˆ‘
</a></div> <!----></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></header> <div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-6656a0de data-v-6656a0de><i class="iconfont reco-up" data-v-6656a0de></i></div> <div id="common" class="theme-container"><!----> <div id="mainContent" class="common-content"><div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-gitlab"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/category/ET/" class="nav-link"><i class="iconfont reco-eye"></i>
  æ•™è‚²æŠ€æœ¯
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      å‰ç«¯
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/Front/" class="nav-link"><i class="iconfont undefined"></i>
  å‰ç«¯åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/category/TS/" class="nav-link"><i class="iconfont undefined"></i>
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/category/Comment/" class="nav-link"><i class="iconfont undefined"></i>
  æ‚è°ˆ
</a></li><li class="dropdown-item"><!----> <a href="/DailyTest/Navigator.html" class="nav-link"><i class="iconfont undefined"></i>
  ç»ƒé¢˜ç¬”è®°
</a></li></ul></div></div><div class="nav-item"><a href="/timeLine.html" class="nav-link"><i class="iconfont reco-three"></i>
  æ—¶å…‰æœº
</a></div><div class="nav-item"><a href="/AboutMe.html" class="nav-link"><i class="iconfont reco-other"></i>
  å…³äºæˆ‘
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>æ‘¸é±¼ä¹‹é™…ä¸€èµ·æ¥å®ç°ä¸€ä¸ª Vuex</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Front/2020-4-17-myVuex.html#å‰è¨€" class="sidebar-link">å‰è¨€</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Front/2020-4-17-myVuex.html#å…ˆè¯´è¯´åŒå‘ç»‘å®š" class="sidebar-link">å…ˆè¯´è¯´åŒå‘ç»‘å®š</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Front/2020-4-17-myVuex.html#vuex-åŠŸèƒ½æµ‹è¯•å‡†å¤‡" class="sidebar-link">Vuex åŠŸèƒ½æµ‹è¯•å‡†å¤‡</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Front/2020-4-17-myVuex.html#ä½¿ç”¨-vue-åŒå‘ç»‘å®šæ„å»º-state" class="sidebar-link">ä½¿ç”¨ Vue åŒå‘ç»‘å®šæ„å»º state</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Front/2020-4-17-myVuex.html#å®ç°-getters" class="sidebar-link">å®ç° getters</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Front/2020-4-17-myVuex.html#mutations-å’Œ-actions-å®ç°" class="sidebar-link">mutations å’Œ actions å®ç°</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Front/2020-4-17-myVuex.html#å®ç°å…¥å£åŠ è½½å‡½æ•°" class="sidebar-link">å®ç°å…¥å£åŠ è½½å‡½æ•°</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Front/2020-4-17-myVuex.html#å®ç°æ•ˆæœ" class="sidebar-link">å®ç°æ•ˆæœ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Front/2020-4-17-myVuex.html#ç»“è¯­" class="sidebar-link">ç»“è¯­</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Front/2020-4-17-myVuex.html#å‚è€ƒèµ„æ–™" class="sidebar-link">å‚è€ƒèµ„æ–™</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div><div><main class="page reco-hide"> <div class="page-title"><h1>æ‘¸é±¼ä¹‹é™…ä¸€èµ·æ¥å®ç°ä¸€ä¸ª Vuex</h1> <hr> <div style="position:relative;" data-v-6e6f5ac2><i class="iconfont reco-account" data-v-6e6f5ac2><span data-v-6e6f5ac2>Clancy Lin</span></i> <i class="iconfont reco-date" data-v-6e6f5ac2><span data-v-6e6f5ac2>2020-4-17</span></i> <!----> <i class="iconfont reco-tag tags" data-v-6e6f5ac2><span class="tag-item" data-v-6e6f5ac2>Front</span><span class="tag-item" data-v-6e6f5ac2>å‰ç«¯</span><span class="tag-item" data-v-6e6f5ac2>VueåŸç†</span></i> <span class="pageFull" data-v-6e6f5ac2>å…¨å±</span></div></div> <div class="content__default"><p><img src="https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20200417-1.jpg" alt="å¼€ç¯‡å›¾"></p> <h2 id="å‰è¨€"><a href="#å‰è¨€" aria-hidden="true" class="header-anchor">#</a> å‰è¨€</h2> <p>å¦‚æœä½ ç”¨è¿‡ <code>Vue</code>ï¼Œé‚£ä¹ˆ <code>Vuex</code> å¿…å®šæ˜¯ä½ ä½¿ç”¨è¿‡ç¨‹ä¸­æ— æ³•ç»•è¿‡çš„ä¸€é“åã€‚</p> <p>ç”¨è¿‡ä»¥åä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œ</p> <p>ä»–çš„å†…éƒ¨åŸç†ç©¶ç«Ÿæ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</p> <p>ä»Šå¤©æˆ‘ä»¬å°±é€šè¿‡å¯¹å…¶ç®€å•çš„å®ç°ï¼Œ</p> <p>ä¸€èµ·æ¥æ¢ç©¶å®ƒå†…éƒ¨çš„åŸç†ã€‚ ğŸ˜„</p> <p>è¿™é‡Œå°±é»˜è®¤å¤§å®¶å·²ç»ç”¨è¿‡ <code>Vuex</code> å¹¶ä¸”å¯¹å®ƒçš„æ“ä½œè¿˜æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œ</p> <p>å¦‚æœè¿˜ä¸ç†Ÿæ‚‰çš„åŒå­¦å¯ä»¥å¼‚æ­¥ <a href="https://vuex.vuejs.org/zh/guide/" target="_blank" rel="noopener noreferrer">å®˜ç½‘æ•™ç¨‹<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="å…ˆè¯´è¯´åŒå‘ç»‘å®š"><a href="#å…ˆè¯´è¯´åŒå‘ç»‘å®š" aria-hidden="true" class="header-anchor">#</a> å…ˆè¯´è¯´åŒå‘ç»‘å®š</h2> <p>ç”¨è¿‡çš„åŒå­¦åº”è¯¥éƒ½ä¼šå¯¹ <code>Vuex</code> å¼ºå¤§çš„æ•°æ®ç®¡ç†èƒ½åŠ›å°è±¡æ·±åˆ»ï¼Œ</p> <p>é‚£ä¹ˆæ“ä½œ <code>Vuex</code> ä¸­çš„æ•°æ®æ˜¯æ€ä¹ˆè®©æ¸²æŸ“è§†å›¾å®æ—¶æ›´æ–°çš„å‘¢ï¼Ÿ</p> <p>æ²¡é”™ï¼Œè¿™æ—¶å€™è€å¤§å“¥ <code>Vue</code> å°±è¦å‡ºåœºäº†ã€‚</p> <p><img src="https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20200417-2.jpg" alt="å‡ºåœº"></p> <p>ç¼–ç¨‹æ˜¯é—¨é»‘é­”æ³•ï¼Œä¸‹é¢è¿™ç§æ“ä½œä¸çŸ¥é“åœ¨ä½ çš„ä»£ç ä¸­æœ‰æ²¡æœ‰å‡ºç°è¿‡ï¼Œ ğŸ˜</p> <p>ï¼ˆå¦‚æœä½ ä¸çŸ¥é“ï¼Œæƒå½“å¼€ä¸ªçœ¼ç•Œå˜¿å˜¿ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ Vue å®ä¾‹</span>
<span class="token keyword">const</span> bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// å°†å…¶æŒ‚è½½åˆ°å½“å‰é¡¹ç›®å®ä¾‹</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$bus <span class="token operator">=</span> bus

<span class="token comment">// è¿›è¡Œé€šä¿¡</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'call'</span><span class="token punctuation">,</span> <span class="token string">'å‘¼å«'</span><span class="token punctuation">)</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'call'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'æ”¶åˆ°'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ <code>Vue</code> å®ä¾‹è¿›è¡Œå…¨å±€é€šä¿¡çš„ä¾‹å­ï¼Œå…¶ä¼˜ç‚¹å’Œç¼ºç‚¹éƒ½éå¸¸çš„æ˜æ˜¾ï¼Œ</p> <p>ä½†æ˜¯ä»Šå¤©çš„é‡ç‚¹å¹¶ä¸æ˜¯è¦è®²è¿™ä¸ªã€‚</p> <p>ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æ³¨æ„åˆ°æˆ‘ä»¬åœ¨å®ç°é€šä¿¡çš„è¿‡ç¨‹ä¸­å®é™…ä½¿ç”¨äº† <code>Vue</code> ä¸­çš„ <code>$emit</code> å’Œ <code>$on</code> çš„æ–¹æ³•ï¼Œ</p> <p>è¿™ç»™äº†æˆ‘ä»¬å¯å‘ï¼Œ</p> <p>æˆ‘ä»¬èƒ½ä¸èƒ½è®© <code>Vue</code> ä¸­å·²æœ‰çš„åŒå‘ç»‘å®šä¸ºæˆ‘ä»¬æ‰€ç”¨å‘¢ï¼Ÿ</p> <p>è¯´å¹²å°±å¹²ï¼</p> <p><img src="https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20200417-3.jpg" alt="å¼€å§‹è¡¨æ¼”"></p> <h2 id="vuex-åŠŸèƒ½æµ‹è¯•å‡†å¤‡"><a href="#vuex-åŠŸèƒ½æµ‹è¯•å‡†å¤‡" aria-hidden="true" class="header-anchor">#</a> Vuex åŠŸèƒ½æµ‹è¯•å‡†å¤‡</h2> <p>åœ¨å¼€å§‹æ­å»ºæˆ‘ä»¬è‡ªå·±çš„ <code>Vuex</code> å‰ï¼Œæˆ‘ä»¬å…ˆé¢„å…ˆè®¾å®šå¥½åƒè¦å®ç°çš„åŠŸèƒ½ï¼Œ</p> <p>æ–¹ä¾¿æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­éšæ—¶è¿›è¡Œæµ‹è¯•ã€‚</p> <p>æœ€åçš„æ•ˆæœå¦‚ä¸‹ï¼š</p> <p><img src="https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20200417-4.jpg" alt="æµ‹è¯•ç•Œé¢"></p> <p>å·¦è¾¹æŒ‰é’®ä¸­çš„æ•°å­—ä¾èµ–äºä»“åº“ä¸­çš„ <code>count</code> å˜é‡ï¼Œä¸”æ¯æ¬¡ç‚¹å‡»éƒ½åŠ 1ã€‚</p> <p>æ¥ç€æˆ‘ä»¬ç¼–å†™å¥½è°ƒç”¨ <code>Vuex</code> çš„ä»£ç ï¼Œä½¿ç”¨æ–¹æ³•åŒå®˜æ–¹åº“ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> MyVuex <span class="token keyword">from</span> <span class="token string">'./myVuex'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>MyVuex<span class="token punctuation">)</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyVuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        count<span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    getters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> state<span class="token punctuation">.</span>count
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">getOne</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">1</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">doCount</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>count <span class="token operator">=</span> data
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    actions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">doCount</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span><span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'doCount'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">doCountDouble</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> state<span class="token punctuation">,</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'doCount'</span><span class="token punctuation">,</span> state<span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>ä¸‡äº‹å…·å¤‡ä¹‹åå°±å¯ä»¥æ­£å¼å¼€å§‹å¼€å‘äº†ï¼</p> <p><code>Vuex</code> çš„æ ¸å¿ƒä¸»è¦æœ‰é‚£ä¹ˆå››éƒ¨åˆ†ï¼š</p> <ul><li>â­ï¸ <code>state</code></li> <li>â­ï¸ <code>getters</code></li> <li>â­ï¸ <code>mutations</code></li> <li>â­ï¸ <code>actions</code></li></ul> <p>ä¸‹é¢æˆ‘ä»¬æ¥ä¸€ä¸€å¯¹è¿™äº›éƒ¨åˆ†è¿›è¡Œå‰–æå§</p> <h2 id="ä½¿ç”¨-vue-åŒå‘ç»‘å®šæ„å»º-state"><a href="#ä½¿ç”¨-vue-åŒå‘ç»‘å®šæ„å»º-state" aria-hidden="true" class="header-anchor">#</a> ä½¿ç”¨ Vue åŒå‘ç»‘å®šæ„å»º state</h2> <p>ä¸Šé¢æˆ‘ä»¬æåˆ°è¿‡ï¼Œæ•°æ®å¤„ç†çš„æ ¸å¿ƒå…¶å®è¿˜æ˜¯åˆ©ç”¨äº† <code>Vue</code> çš„åŒå‘ç»‘å®šï¼Œ</p> <p>éµä»ç€è¿™ä¸ªæ€è·¯æˆ‘ä»¬å¯ä»¥æ­å‡ºæ•´ä¸ªåº“çš„é›å½¢ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Store</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ²¡æœ‰ Vue æ—¶å…ˆè£…ä¸Š</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Vue <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>Vue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">install</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>Vue<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// è·å–é…ç½®</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options
        <span class="token comment">// æ–°å»º Vue å®ä¾‹å“åº”å¼å­˜å‚¨</span>
        <span class="token function">resetStoreVM</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">get</span> <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>_vm<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>$$state
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ–°å»º Vue å®ä¾‹</span>
<span class="token keyword">function</span> <span class="token function">resetStoreVM</span> <span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span> state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å…ˆçœ‹æœ‰æ²¡æœ‰æ—§å®ä¾‹</span>
    <span class="token keyword">const</span> oldVm <span class="token operator">=</span> store<span class="token punctuation">.</span>_vm
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldVm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Vue<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span>oldVm<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// store.getters = {}</span>

    store<span class="token punctuation">.</span>_vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          $$state<span class="token punctuation">:</span> state
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>è¿™æ—¶å€™æˆ‘ä»¬æŠŠ <code>Store</code> çš„å®ä¾‹æ‰“å°å‡ºæ¥ï¼Œå°±èƒ½çœ‹åˆ°æˆ‘ä»¬çš„ <code>state</code> å·²ç»è¢«åŠ è½½å¥½äº†ã€‚ ğŸ˜„</p> <p><img src="https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20200417-5.jpg" alt="stateçš„å€¼"></p> <h2 id="å®ç°-getters"><a href="#å®ç°-getters" aria-hidden="true" class="header-anchor">#</a> å®ç° getters</h2> <p>ä¸Šé¢æˆ‘ä»¬å·²ç»æˆåŠŸåŠ è½½å¥½äº† <code>state</code>ï¼Œ</p> <p>ä½†æ˜¯ä¸€èˆ¬è€Œè¨€å¹¶ä¸æ¨èç›´æ¥å–å€¼ï¼Œè€Œæ˜¯æœ€å¥½é€šè¿‡ <code>getters</code> è¿›è¡Œå€¼çš„è·å–ï¼Œæ–¹ä¾¿è¿›è¡ŒäºŒæ¬¡åŠ å·¥ã€‚</p> <p>åœ¨å®ç° <code>getters</code> ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ–‡æ¡£ä¸­çš„è¯´æ˜ã€‚</p> <p><img src="https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20200417-6.jpg" alt="gettersæ–‡æ¡£è¯´æ˜"></p> <p>æ–‡æ¡£ä¸­è¯´æ˜ <code>getters</code> çš„å€¼æ˜¯æœ‰ç¼“å­˜ä¼˜åŒ–ç­–ç•¥çš„ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é‡Œä¸ºäº†æ–¹ä¾¿å°±ç›´æ¥æ¯æ¬¡éƒ½ä½¿ç”¨ <code>æ–°è®¡ç®—</code> çš„å€¼ï¼Œ</p> <p>å¦‚æœæœ‰æ„Ÿå…´è¶£çš„åŒå­¦å¯åœ¨æºç æœç´¢ <code>store._makeLocalGettersCache</code> çš„ç›¸å…³ä»£ç ã€‚</p> <p>ç°åœ¨æˆ‘ä»¬çš„ä»£ç å˜æˆäº†è¿™ä¸ªæ ·å­ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Store</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ²¡æœ‰ Vue æ—¶å…ˆè£…ä¸Š</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Vue <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>Vue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">install</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>Vue<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// è·å–é…ç½®</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options

        <span class="token keyword">this</span><span class="token punctuation">.</span>getters <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

        <span class="token comment">// è£…è½½ getters</span>
        <span class="token function">forEachValue</span><span class="token punctuation">(</span>getters<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">registerGetter</span><span class="token punctuation">(</span>store<span class="token punctuation">,</span> type<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment">// æ–°å»º Vue å®ä¾‹å“åº”å¼å­˜å‚¨</span>
        <span class="token function">resetStoreVM</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">get</span> <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>_vm<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>$$state
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// æ³¨å†Œ getter å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">registerGetter</span> <span class="token punctuation">(</span><span class="token parameter">store<span class="token punctuation">,</span> type<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>getters<span class="token punctuation">,</span> type<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>_state<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">forEachValue</span> <span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>åˆ©ç”¨äº† ES5 çš„ <code>Object.defineProperty</code> è¿›è¡Œæ‹¦æˆªï¼Œæ¯æ¬¡è°ƒç”¨å–å€¼éƒ½è¿”å›å‡½æ•°è¿è¡Œçš„ç»“æœï¼Œ</p> <div class="tip custom-block"><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>Proxy</code> å®Œæˆæ‹¦æˆªï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªå·±å®ç°ä¸€ä¸‹</p></div> <p>æˆ‘ä»¬æµ‹è¯•å›¾ä¾‹çš„æŒ‰é’®ä½¿ç”¨ <code>getters</code> è¿›è¡Œå–å€¼ï¼Œè¿›è¡Œåˆ°è¿™é‡Œå·²ç»èƒ½åœ¨æŒ‰é’®ä¸Šçœ‹åˆ°è¿™ä¸ªå€¼äº†ï¼</p> <p><img src="https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/2020417-7.jpg" alt="gettersæ•ˆæœ"></p> <h2 id="mutations-å’Œ-actions-å®ç°"><a href="#mutations-å’Œ-actions-å®ç°" aria-hidden="true" class="header-anchor">#</a> mutations å’Œ actions å®ç°</h2> <p>å•çº¯çš„æ•°æ®è·å–æ˜¯è‹ç™½çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å®ç°æ•°æ®å˜åŒ–çš„é»‘é­”æ³•ã€‚</p> <p>å› ä¸ºç®€å•ç‰ˆæœ¬çš„ <code>mutations</code> å’Œ <code>actions</code> å®ç°å¤§åŒå°å¼‚ï¼Œ</p> <p>æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå°±æ”¾åœ¨ä¸€èµ·è¿›è¡Œå®ç°äº†ã€‚</p> <p>éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œçš„ <code>mutation</code> å¿…é¡»ä½¿ç”¨ <code>commit</code> è¿›è¡Œè°ƒç”¨ï¼Œè¿™é‡Œä½¿ç”¨ <code>_committing</code> å¯¹å…¶åŠ é”ã€‚</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Store</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_committing <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>

    <span class="token operator">...</span><span class="token punctuation">.</span>

    <span class="token comment">// æ‰§è¡Œå‡½æ•°å¹¶åŠ é”</span>
    <span class="token function">_withCommit</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> committing <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_committing
        <span class="token keyword">this</span><span class="token punctuation">.</span>_committing <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_committing <span class="token operator">=</span> committing
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>è¿™é‡Œæˆ‘ä»¬æ¢³ç†ä¸€ä¸‹ <code>mutations</code> å’Œ <code>actions</code> çš„å»ºæ„æµç¨‹ï¼Œ</p> <ul><li>â­ï¸ å¾ªç¯é…ç½®ä¸­çš„å¯¹åº”å‡½æ•°åŠ è½½åˆ° <code>Store</code> çš„å¯¹åº”ä½ç½®</li> <li>â­ï¸ å®šä¹‰å¥½ <code>commit</code> å’Œ <code>dispatch</code> æ–¹æ³•ä½¿å…¶æŒ‡å‘æˆ‘ä»¬å­˜å‚¨å¤„ç†å‡½æ•°çš„ä½ç½®</li> <li>â­ï¸ å¤„ç†å¥½è°ƒç”¨æ—¶çš„ <code>this</code> æŒ‡å‘</li></ul> <p>æ¸…æ™°äº†æµç¨‹ä¹‹åæˆ‘ä»¬æœ€åçš„å®ç°ä»£ç å°±æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Store</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Vue <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>Vue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">install</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>Vue<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">const</span> <span class="token punctuation">{</span> state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token operator">=</span> options
        
        <span class="token comment">// åˆå§‹åŒ–</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_committing <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_state <span class="token operator">=</span> state
        <span class="token keyword">this</span><span class="token punctuation">.</span>_actions <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_mutations <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>getters <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

        <span class="token keyword">const</span> <span class="token punctuation">{</span> dispatch<span class="token punctuation">,</span> commit <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>
        <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">this</span>

        <span class="token comment">// è£…è½½ getters</span>
        <span class="token function">forEachValue</span><span class="token punctuation">(</span>getters<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">registerGetter</span><span class="token punctuation">(</span>store<span class="token punctuation">,</span> type<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token comment">// è£…è½½ mutations å’Œ actions</span>
        <span class="token function">forEachValue</span><span class="token punctuation">(</span>mutations<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">registerMutation</span><span class="token punctuation">(</span>store<span class="token punctuation">,</span> type<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token function">forEachValue</span><span class="token punctuation">(</span>actions<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">registerAction</span><span class="token punctuation">(</span>store<span class="token punctuation">,</span> type<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">dispatch</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">boundDispatch</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">dispatch</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>store<span class="token punctuation">,</span> type<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">commit</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">boundCommit</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">commit</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>store<span class="token punctuation">,</span> type<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// æ–°å»º Vue å®ä¾‹å“åº”å¼å­˜å‚¨</span>
        <span class="token function">resetStoreVM</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">get</span> <span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>_vm<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>$$state
    <span class="token punctuation">}</span>

    <span class="token comment">// ç¦æ­¢å†èµ‹å€¼</span>
    <span class="token keyword">set</span> <span class="token function">state</span> <span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'ä¸å…è®¸èµ‹å€¼ï¼ï¼ï¼'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// commit</span>
    <span class="token function">commit</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> entry <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_mutations<span class="token punctuation">[</span>type<span class="token punctuation">]</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>entry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[vuex] unknown mutation type: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// æ‰§è¡Œå¯¹åº”å¤„ç†å‡½æ•°</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_withCommit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">entry</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// dispatch</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> entry <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_actions<span class="token punctuation">[</span>type<span class="token punctuation">]</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>entry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[vuex] unknown action type: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        
        <span class="token function">entry</span> <span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// æ‰§è¡Œå‡½æ•°å¹¶åŠ é”</span>
    <span class="token function">_withCommit</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> committing <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_committing
        <span class="token keyword">this</span><span class="token punctuation">.</span>_committing <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_committing <span class="token operator">=</span> committing
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br></div></div><p>çœ‹åˆ°è¿™é‡Œæœ‰æ²¡æœ‰é•¿å‘¼ä¸€å£æ°”çš„æ„Ÿè§‰~~</p> <p>å…ˆåˆ«æ¾æ‡ˆï¼Œæˆ‘ä»¬è¿˜æœ‰æœ€åä¸€ä¸ªé—®é¢˜ï¼Œ</p> <p>ä¸ºäº†æ¨¡ä»¿åŸåº“ä¸­ <code>Vue.use()</code> çš„å®‰è£…æ–¹å¼ï¼Œ</p> <p>æˆ‘ä»¬è¿˜éœ€è¦æä¾›ä¸€ä¸ª <code>install</code> å‡½æ•°</p> <h2 id="å®ç°å…¥å£åŠ è½½å‡½æ•°"><a href="#å®ç°å…¥å£åŠ è½½å‡½æ•°" aria-hidden="true" class="header-anchor">#</a> å®ç°å…¥å£åŠ è½½å‡½æ•°</h2> <p>è¿™éƒ¨åˆ†çš„å†…å®¹å…¶å®å°±åªæœ‰ä¸¤ä»¶äº‹æƒ…è¦åšï¼š</p> <ul><li>â­ï¸ å–åˆ° <code>Store</code> å®ä¾‹å¹¶å°†å…¶æŒ‚è½½åˆ° <code>this.$store</code> ä¸Š</li> <li>â­ï¸ å°†å…¶æ··å…¥æˆ‘ä»¬çš„é¡¹ç›®ä¸­</li></ul> <p>è¿™éƒ¨åˆ†çš„æºç éå¸¸å¥½ç†è§£ï¼Œ</p> <p>æ‰€ä»¥è¿™é‡Œæˆ‘å°±ç›´æ¥å¯¹æºç è¿›è¡Œæ¬è¿äº†~~~</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å®‰è£…æ–¹æ³•</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">install</span> <span class="token punctuation">(</span><span class="token parameter">_Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Vue <span class="token operator">&amp;&amp;</span> _Vue <span class="token operator">===</span> Vue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>
          <span class="token string">'[vuex] already installed. Vue.use(Vuex) should be called only once.'</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    Vue <span class="token operator">=</span> _Vue
    <span class="token comment">// å–å¾— Vue å®ä¾‹åæ··å…¥</span>
    Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> beforeCreate<span class="token punctuation">:</span> vuexInit <span class="token punctuation">}</span><span class="token punctuation">)</span>   
<span class="token punctuation">}</span>

<span class="token comment">/**
 * Vuex init hook, injected into each instances init hooks list.
 * åˆå§‹åŒ– Vuex
 */</span>
<span class="token keyword">function</span> <span class="token function">vuexInit</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>store<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ç»„ä»¶å†…éƒ¨æœ‰ store,åˆ™ä¼˜å…ˆä½¿ç”¨åŸæœ‰çš„store  </span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store <span class="token operator">=</span> <span class="token keyword">typeof</span> options<span class="token punctuation">.</span>store <span class="token operator">===</span> <span class="token string">'function'</span>
        <span class="token operator">?</span> options<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">:</span> options<span class="token punctuation">.</span>store
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>parent <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>$store<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ç»„ä»¶æ²¡æœ‰ store åˆ™ç»§æ‰¿æ ¹èŠ‚ç‚¹çš„ $store</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store <span class="token operator">=</span> options<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>$store
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="å®ç°æ•ˆæœ"><a href="#å®ç°æ•ˆæœ" aria-hidden="true" class="header-anchor">#</a> å®ç°æ•ˆæœ</h2> <p><img src="https://blog-img-1252360401.cos.ap-guangzhou.myqcloud.com/20200417.gif" alt="å®ç°æ•ˆæœ"></p> <p><a href="https://github.com/linsicong003/vuex-annotation/tree/master/myVuex" target="_blank" rel="noopener noreferrer">å®Œæ•´ä»£ç æˆ³è¿™é‡Œ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>è§‰å¾—æœ‰ç”¨çš„è®°å¾—â­ï¸ä¸€ä¸‹å“¦~~</p> <h2 id="ç»“è¯­"><a href="#ç»“è¯­" aria-hidden="true" class="header-anchor">#</a> ç»“è¯­</h2> <p>çŸ¥å…¶ç„¶ä¹Ÿè¦çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œ</p> <p>é˜…è¯»æºç ä¸€æ–¹é¢è®©æˆ‘ä»¬äº†è§£åˆ°æ¡†æ¶å†…éƒ¨çš„å®ç°åŸç†ï¼Œéåˆ¶ä½ä¼šäº§ç”Ÿ bug çš„éªšæ“ä½œï¼Œ</p> <p>å¦ä¸€æ–¹é¢ä¹Ÿå¯ä»¥å­¦ä¹ ç²¾å¦™çš„å†™æ³•ï¼Œå¯¹è‡ªå·±çš„ç¼–ç¨‹é£æ ¼æœ‰æ‰€å¯å‘ã€‚ ğŸ˜„</p> <p>è°¢è°¢å¤§æ¸£ï¼</p> <p>-- å®Œ --</p> <p>æ¬¢è¿å…³æ³¨æˆ‘çš„<a href="linsicong.com">ä¸ªäººç½‘ç«™</a>å•¦å•¦å•¦~</p> <p>ä¸å®šæœŸæ›´æ–°å‰ç«¯å†…å®¹ã€‚ ğŸ˜</p> <h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" aria-hidden="true" class="header-anchor">#</a> å‚è€ƒèµ„æ–™</h2> <ul><li>https://juejin.im/post/5a7a935851882524713dcd05</li> <li>https://juejin.im/post/5d863ff66fb9a06ada54ed03</li> <li>https://juejin.im/post/5c62ea95e51d457ffe60c084</li> <li>Vuex æºç  v3.1.3</li></ul></div> <!----> <footer class="page-edit"><!----></footer> <!----> </main></div> <div class="valine-wrapper" data-v-5d2e7f84><div id="valine" data-v-5d2e7f84></div></div></div></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ebbf034c.js" defer></script><script src="/assets/js/3.a86c7ed3.js" defer></script><script src="/assets/js/2.76bfe4ca.js" defer></script><script src="/assets/js/1.e6878f8a.js" defer></script><script src="/assets/js/76.713ac99a.js" defer></script>
  </body>
</html>
